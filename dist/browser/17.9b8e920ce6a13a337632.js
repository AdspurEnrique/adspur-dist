(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"24n0":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o}));var a=200,r="&w=200&h="+a+"&fit=crop",c=58,i=58,o="&w="+c+"&h="+i+"&fit=crop"},Q0oM:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("0IaG"),r=n("fXoL"),c=n("ofXK"),i=n("XiUz"),o=n("bTqV"),p=n("NFeN");function l(t,e){1&t&&(r.Tb(0,"mat-icon",7),r.Pc(1,"delete"),r.Sb())}var s=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(r.Nb(a.g),r.Nb(a.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-confirmation-dialog"]],decls:11,vars:6,consts:[["mat-dialog-title","",1,"text-center","mat-display-1"],["aria-hidden","true","class","text-warn","style","vertical-align: text-bottom;",4,"ngIf"],["mat-dialog-content",""],[1,"mat-body-1","text-center",3,"innerHTML"],["mat-dialog-actions","","fxLayout","","fxLayoutAlign","space-between"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"],["aria-hidden","true",1,"text-warn",2,"vertical-align","text-bottom"]],template:function(t,e){1&t&&(r.Tb(0,"h1",0),r.Nc(1,l,2,0,"mat-icon",1),r.Pc(2),r.Sb(),r.Tb(3,"div",2),r.Ob(4,"p",3),r.Ob(5,"br"),r.Sb(),r.Tb(6,"div",4),r.Tb(7,"button",5),r.Pc(8,"Cancel"),r.Sb(),r.Tb(9,"button",6),r.Pc(10),r.Sb(),r.Sb()),2&t&&(r.Cb(1),r.mc("ngIf",e.data.icon),r.Cb(1),r.Rc(" ",e.data.title,"\n"),r.Cb(2),r.mc("innerHTML",e.data.content,r.Dc),r.Cb(3),r.mc("mat-dialog-close",!1),r.Cb(2),r.mc("mat-dialog-close",!0),r.Cb(1),r.Qc(e.data.confirm))},directives:[a.h,c.n,a.e,a.c,i.e,i.d,o.b,a.d,p.a],styles:[""]}),t}()},sIb7:function(t,e,n){"use strict";n.r(e),n.d(e,"EntriesModule",(function(){return se}));var a=n("ofXK"),r=n("3Pt+"),c=n("jAig"),i=n("RTH9"),o=n("tyNb"),p=n("fXoL"),l=n("tLjG"),s=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){var t=this;this.getRouteParams().subscribe((function(e){t.params=e}))},t.prototype.getRouteParams=function(){return this.route.params.map((function(t){return{campaignID:parseInt(t.campaignID),categoryID:parseInt(t.categoryID)}}))},t.\u0275fac=function(e){return new(e||t)(p.Nb(o.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-entry"]],decls:1,vars:2,consts:[[3,"categoryid","campaignid"]],template:function(t,e){1&t&&p.Ob(0,"app-shared-entry-page",0),2&t&&p.mc("categoryid",e.params.categoryID)("campaignid",e.params.campaignID)},directives:[l.a],styles:["app-entry{display:block;padding-bottom:112px}"],encapsulation:2}),t}(),b=n("YdDH"),g=n("pjp9"),u=n("q6Au"),d=n("jhN1"),m=n("bTqV"),f=n("NFeN"),h=n("RYkU"),y=n("cp0P"),v=n("LRne"),S=n("9VoG"),I=n("yDRh"),w=n("Xa2L"),x=n("XiUz"),k=n("1jcm"),C=n("VgEc");function T(t,e){if(1&t&&p.Ob(0,"mat-spinner",2),2&t){var n=p.fc();p.mc("color",n.accent)("strokeWidth",2)("diameter",80)}}function P(t,e){1&t&&(p.Rb(0),p.Pc(1,"Included in campaign entry"),p.Qb())}function D(t,e){1&t&&(p.Rb(0),p.Pc(1,"Excluded from campaign entry"),p.Qb())}function N(t,e){if(1&t&&p.Ob(0,"img",18),2&t){var n=p.fc().$implicit;p.oc("src","",n.thumbImage,"&w=268",p.Fc)}}function E(t,e){1&t&&(p.Tb(0,"span"),p.Pc(1,"s"),p.Sb())}function O(t,e){1&t&&(p.Tb(0,"span"),p.Pc(1,"s"),p.Sb())}function W(t,e){if(1&t&&(p.Tb(0,"div",19),p.Tb(1,"h2",20),p.Pc(2," Work excluded from campaign,"),p.Ob(3,"br"),p.Pc(4),p.Nc(5,O,2,0,"span",3),p.Pc(6," hidden "),p.Sb(),p.Sb()),2&t){var n=p.fc().$implicit;p.Cb(4),p.Rc(" with ",null!=n.aFiles&&n.aFiles.length?n.aFiles.length:"0"," file"),p.Cb(1),p.mc("ngIf",1!==(null==n.aFiles?null:n.aFiles.length))}}function F(t,e){1&t&&(p.Tb(0,"div",21),p.Tb(1,"div",22),p.Tb(2,"h2",23),p.Pc(3,"No files associated with work"),p.Sb(),p.Tb(4,"button",24),p.Tb(5,"mat-icon",25),p.Pc(6,"add"),p.Sb(),p.Tb(7,"span"),p.Pc(8," Add Files"),p.Sb(),p.Sb(),p.Sb(),p.Sb())}function L(t,e){if(1&t&&p.Ob(0,"app-shared-file-manager",26),2&t){var n=p.fc().$implicit,a=p.fc(3);p.mc("campaignid",a.theWork.campaignID)("singlecampaignid",n.campaignID)("categoryid",a.categoryID)("bembedded",!0)}}function _(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div",5),p.Tb(1,"section",6),p.Tb(2,"div",7),p.Tb(3,"div",8),p.Tb(4,"mat-slide-toggle",9),p.bc("change",(function(){p.Cc(n);var t=e.$implicit,a=p.fc(3);return a.toggle(t,a.entry,a.aItems)})),p.Nc(5,P,2,0,"ng-container",3),p.Nc(6,D,2,0,"ng-container",3),p.Sb(),p.Sb(),p.Nc(7,N,1,1,"img",10),p.Tb(8,"ul",11),p.Tb(9,"li"),p.Tb(10,"h2",12),p.Pc(11),p.Sb(),p.Sb(),p.Tb(12,"li",13),p.Pc(13),p.Sb(),p.Tb(14,"li",13),p.Pc(15),p.Sb(),p.Tb(16,"li",13),p.Pc(17),p.Sb(),p.Sb(),p.Ob(18,"hr"),p.Tb(19,"ul",11),p.Tb(20,"li",14),p.Tb(21,"strong"),p.Pc(22),p.Sb(),p.Pc(23," out of "),p.Tb(24,"strong"),p.Pc(25),p.Sb(),p.Pc(26," file"),p.Nc(27,E,2,0,"span",3),p.Pc(28," included "),p.Sb(),p.Sb(),p.Sb(),p.Nc(29,W,7,2,"div",15),p.Nc(30,F,9,0,"div",16),p.Nc(31,L,1,4,"app-shared-file-manager",17),p.Sb(),p.Sb()}if(2&t){var a=e.$implicit,r=p.fc(3);p.Cb(4),p.mc("checked",!a.removedAt)("labelPosition","before"),p.Cb(1),p.mc("ngIf",!a.removedAt),p.Cb(1),p.mc("ngIf",a.removedAt),p.Cb(1),p.mc("ngIf",a.thumbImage),p.Cb(4),p.Rc(" ",a.campaignName," "),p.Cb(2),p.Rc(" ",r.theWork.advertiserClientName," "),p.Cb(2),p.Rc(" ",r.theWork.productServiceName," "),p.Cb(2),p.Rc(" ",r.theWork.primaryAgencyName," "),p.Cb(5),p.Qc(r.getEntrItemFileIncludeCount(a.campaignID)),p.Cb(3),p.Qc(r.getEntrItemFileTotalCount(a.campaignID)),p.Cb(2),p.mc("ngIf",1!==r.getEntrItemFileTotalCount(a.campaignID)),p.Cb(2),p.mc("ngIf",a.removedAt),p.Cb(1),p.mc("ngIf",!a.removedAt&&0===a.aFiles.length),p.Cb(1),p.mc("ngIf",!a.removedAt&&a.aFiles.length>0)}}function A(t,e){if(1&t&&(p.Rb(0),p.Nc(1,_,32,15,"div",4),p.gc(2,"orderBy"),p.gc(3,"async"),p.Qb()),2&t){var n=p.fc(2);p.Cb(1),p.mc("ngForOf",p.jc(2,1,p.hc(3,5,n.aItemsDisplay),"displayOrder",!0))}}function j(t,e){if(1&t&&(p.Rb(0),p.Nc(1,A,4,7,"ng-container",3),p.Qb()),2&t){var n=p.fc();p.Cb(1),p.mc("ngIf",n.theWork)}}var M,R=function(){function t(t,e,n,a){this.entryService=t,this.location=e,this.theworkService=n,this.userAlertService=a,this.bLoaded=!1}return Object.defineProperty(t.prototype,"campaignid",{set:function(t){this.campaignID=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"categoryid",{set:function(t){this.categoryID=t},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.loadData(this.campaignID,this.categoryID).subscribe((function(e){t.bLoaded=!0}))},t.prototype.loadData=function(t,e){var n=this;return Object(y.a)([this.theworkService.getWork(t).map((function(t){return n.theWork=t})),this.theworkService.getWorkItems(t).map((function(t){return n.aItems=t}))]).switchMap((function(){return n.loadDataEntry()})).switchMap((function(){return n.processItems()}))},t.prototype.loadDataEntry=function(){var t=this;return Object(v.a)(!0).switchMap((function(){return t.categoryID?t.entryService.getEntry(t.categoryID,t.campaignID).map((function(e){return t.entry=e})):Object(v.a)(void 0)}))},t.prototype.processItems=function(){var t=this;return Object(v.a)(this.entry).map((function(e){return t.aItemsDisplay=Object(v.a)(e&&e.aItems&&e.aItems.length?t.entryService.processEntryItems(t.aItems.slice(),e.aItems):Object(v.a)(t.aItems))}))},t.prototype.toggle=function(t,e,n){var a=this;Object(v.a)(!0).switchMap((function(){return t.removedAt?a.entryService.addItemToEntry(a.campaignID,t.campaignID,a.categoryID):a.entryService.removeItemToEntry(a.campaignID,t.campaignID,a.categoryID)})).map((function(n){return"boolean"==typeof n?n&&(e.aItems[e.aItems.findIndex((function(e){return e.campaignID===t.campaignID}))].removedAt=void 0):new Date(n)instanceof Date&&(e.aItems[e.aItems.findIndex((function(e){return e.campaignID===t.campaignID}))].removedAt=n),n})).switchMap((function(){return a.entryService.deleteLocalEntry(e)})).switchMap((function(){return a.entryService.deleteLocalEntry(e)})).switchMap((function(){return a.loadDataEntry()})).switchMap((function(){return a.processItems()})).switchMap((function(){return a.userAlertService.alertUser("Entry updated",I.c,I.b)})).subscribe()},t.prototype.getEntrItemFileTotalCount=function(t){var e=0,n=this.entry.aItems.find((function(e){return e.campaignID===t}));return n&&(e=n.aFiles.length),e},t.prototype.getEntrItemFileIncludeCount=function(t){var e=0,n=this.entry.aItems.find((function(e){return e.campaignID===t}));return n&&(e=n.aFiles.filter((function(t){return!t.removedAt.toString().length})).length),e},t.\u0275fac=function(e){return new(e||t)(p.Nb(S.a),p.Nb(a.i),p.Nb(b.b),p.Nb(I.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-shared-item-manager"]],inputs:{campaignid:"campaignid",categoryid:"categoryid"},decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[4,"ngIf"],["class","g-section",4,"ngFor","ngForOf"],[1,"g-section"],["fxLayout","row",1,"mat-card","campaign-section"],["fxFlex","300px",1,"campaign-sidebar"],[1,"campaign-sidebar_toggle"],[3,"checked","labelPosition","change"],[3,"src",4,"ngIf"],[1,"blank-list"],[1,"mat-body-2","strong","truncate"],[1,"mat-caption","truncate"],[1,"mat-caption"],["class","joined-card-list g-flexbox-centering","fxFlex","",4,"ngIf"],["class","joined-card-list g-flexbox-centering","fxFlex","100",4,"ngIf"],[3,"campaignid","singlecampaignid","categoryid","bembedded",4,"ngIf"],[3,"src"],["fxFlex","",1,"joined-card-list","g-flexbox-centering"],[1,"mat-display-1","text-center"],["fxFlex","100",1,"joined-card-list","g-flexbox-centering"],[1,"text-center"],[1,"mat-display-1"],["mat-flat-button","","color","accent"],["aria-hidden","true"],[3,"campaignid","singlecampaignid","categoryid","bembedded"]],template:function(t,e){if(1&t&&(p.Nc(0,T,1,3,"ng-template",null,0,p.Oc),p.Nc(2,j,2,1,"ng-container",1)),2&t){var n=p.zc(1);p.Cb(2),p.mc("ngIf",e.bLoaded)("ngIfElse",n)}},directives:[a.n,w.c,a.m,x.e,x.b,k.a,m.b,f.a,h.a],pipes:[C.a,a.b],styles:["app-shared-item-manager{display:block}app-shared-item-manager .campaign-section.mat-card{padding:0;background-color:#eee}app-shared-item-manager .campaign-section.mat-card .cdk-drag .mat-card .mat-card-subtitle p{display:none}app-shared-item-manager .campaign-section.mat-card .cdk-drop-list{border-left:1px solid #e8e8e8}app-shared-item-manager .campaign-sidebar{padding:12px 16px 16px;background-color:#fff;border-radius:4px 0 0 4px}app-shared-item-manager .campaign-sidebar mat-body-2{margin:6px 0}app-shared-item-manager .campaign-sidebar_toggle{text-align:right;margin-bottom:12px}"],encapsulation:2}),t}(),G=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function B(t,e){1&t&&(p.Tb(0,"h1",8),p.Pc(1,"Toggle which files to included and drag to re-order"),p.Sb())}function U(t,e){1&t&&(p.Tb(0,"h1",8),p.Pc(1,"Toggle which pieces of work and files to included, drag to re-order"),p.Sb())}function H(t,e){if(1&t&&p.Ob(0,"app-shared-file-manager",9),2&t){var n=p.fc();p.mc("campaignid",n.params.campaignID)("categoryid",n.params.categoryID)}}function Q(t,e){if(1&t&&p.Ob(0,"app-shared-item-manager",9),2&t){var n=p.fc();p.mc("campaignid",n.params.campaignID)("categoryid",n.params.categoryID)}}var z=function(t){function e(e,n,a,r,c,i){var o=t.call(this,c)||this;return o.route=e,o.router=n,o.theworkService=a,o.title=r,o.fullpageService=c,o.location=i,r.setTitle("Manage Entry - Adspur"),o}return G(e,t),e.prototype.onKeydownHandler=function(t){this.router.navigate(["../"],{relativeTo:this.route})},e.prototype.ngOnInit=function(){var t=this;this.getRouteParams().map((function(e){return t.params=e})).switchMap((function(e){return t.theworkService.getWork(e.campaignID)})).map((function(e){return t.theWork=e})).subscribe()},e.prototype.getRouteParams=function(){return this.route.params.map((function(t){return{campaignID:parseInt(t.campaignID),categoryID:parseInt(t.categoryID)}}))},e.\u0275fac=function(t){return new(t||e)(p.Nb(o.a),p.Nb(o.c),p.Nb(b.b),p.Nb(d.e),p.Nb(g.a),p.Nb(a.i))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-entry-manager"]],hostBindings:function(t,e){1&t&&p.bc("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,p.Bc)},features:[p.zb],decls:13,vars:4,consts:[[1,"fullscreen_header","g-page-width","text-center"],[1,"mat-display-0","mat-type"],["mat-icon-button","","routerLink","../","aria-label","Back","MatTooltip","Back"],["aria-hidden","true"],[1,"g-page-width"],["class","mat-display-0 mat-type text-center",4,"ngIf"],[1,"mat-display-0","mat-type","text-center","text-highlight"],[3,"campaignid","categoryid",4,"ngIf"],[1,"mat-display-0","mat-type","text-center"],[3,"campaignid","categoryid"]],template:function(t,e){1&t&&(p.Tb(0,"header",0),p.Tb(1,"h1",1),p.Pc(2,"Manage Entry"),p.Sb(),p.Tb(3,"a",2),p.Tb(4,"mat-icon",3),p.Pc(5,"arrow_back"),p.Sb(),p.Sb(),p.Sb(),p.Tb(6,"div",4),p.Nc(7,B,2,0,"h1",5),p.Nc(8,U,2,0,"h1",5),p.Tb(9,"h5",6),p.Pc(10,"Tip: Best to set the case film first for judging"),p.Sb(),p.Nc(11,H,1,2,"app-shared-file-manager",7),p.Nc(12,Q,1,2,"app-shared-item-manager",7),p.Sb()),2&t&&(p.Cb(7),p.mc("ngIf",e.theWork&&e.theWork.isSingle),p.Cb(1),p.mc("ngIf",e.theWork&&!e.theWork.isSingle),p.Cb(3),p.mc("ngIf",e.theWork&&e.theWork.isSingle),p.Cb(1),p.mc("ngIf",e.theWork&&!e.theWork.isSingle))},directives:[m.a,o.f,f.a,a.n,h.a,R],styles:["app-entry-manager{display:block;padding-top:56px;padding-bottom:112px}app-entry-manager header{position:relative}app-entry-manager header .mat-icon-button{position:absolute;left:0;top:6px}app-entry-manager .g-page-width{padding:0 16px}app-entry-manager .mat-display-0.text-center{font-size:24px}app-entry-manager .g-section{margin-top:0}"],encapsulation:2}),e}(u.a),K=n("BI15"),$=n("8t76"),q=n("nS8h"),X=n("Qu3c"),V=n("jWFi"),J=n("8DvX"),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();function Z(t,e){1&t&&(p.Tb(0,"header",6),p.Tb(1,"h1",7),p.Pc(2,"Create New Entry"),p.Sb(),p.Sb())}function tt(t,e){if(1&t&&p.Ob(0,"app-entry-nav-bar",8),2&t){var n=p.fc();p.mc("view","select-work")("eventParent",n.eventParent)("eventChild",n.eventChild)("category",n.category)}}function et(t,e){if(1&t){var n=p.Ub();p.Tb(0,"app-thework",11),p.bc("workSelected",(function(t){return p.Cc(n),p.fc(2).selectWork(t)})),p.Sb()}if(2&t){var a=p.fc(2);p.mc("bshowaddwork",!1)("bshowdefault",!0)("categoryid",a.category.categoryID)}}function nt(t,e){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"h4",9),p.Pc(2," Browse and select work in Adspur or upload new work to enter "),p.Sb(),p.Nc(3,et,1,3,"app-thework",10),p.Sb()),2&t){var n=p.fc();p.Cb(3),p.mc("ngIf",n.category)}}function at(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div",12),p.Tb(1,"div",13),p.Tb(2,"button",14),p.bc("click",(function(){return p.Cc(n),p.fc().selectWork(void 0)})),p.Tb(3,"mat-icon",15),p.Pc(4,"arrow_back"),p.Sb(),p.Sb(),p.Tb(5,"h4",16),p.Pc(6," Confirm Files for "),p.Tb(7,"em"),p.Pc(8),p.Sb(),p.Sb(),p.Sb(),p.Ob(9,"app-shared-file-manager",17),p.Tb(10,"div",18),p.Tb(11,"button",19),p.bc("click",(function(){return p.Cc(n),p.fc().cancelEntry()})),p.Pc(12," Cancel "),p.Sb(),p.Ob(13,"span",20),p.Tb(14,"button",21),p.bc("click",(function(){return p.Cc(n),p.fc().reset()})),p.Pc(15," Add Another "),p.Sb(),p.Tb(16,"button",22),p.Pc(17," Done "),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc();p.Cb(8),p.Rc('"',a.theWork.campaignName,'"'),p.Cb(1),p.mc("campaignid",a.theWork.campaignID)("categoryid",a.category.categoryID),p.Cb(7),p.qc("routerLink","/awards/p/",null==a.eventParent?null:a.eventParent.urlSlug,"/e/",null==a.eventChild?null:a.eventChild.urlSlug,"/categories/category/",null==a.category?null:a.category.categoryID,"")}}function rt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div",12),p.Tb(1,"div",13),p.Tb(2,"button",14),p.bc("click",(function(){return p.Cc(n),p.fc().selectWork(void 0)})),p.Tb(3,"mat-icon",15),p.Pc(4,"arrow_back"),p.Sb(),p.Sb(),p.Tb(5,"h4",16),p.Pc(6," Confirm Items and Files for "),p.Tb(7,"em"),p.Pc(8),p.Sb(),p.Sb(),p.Sb(),p.Ob(9,"app-shared-item-manager",17),p.Tb(10,"div",23),p.Tb(11,"button",22),p.Pc(12," Done "),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc();p.Cb(8),p.Rc('"',a.theWork.campaignName,'"'),p.Cb(1),p.mc("campaignid",a.theWork.campaignID)("categoryid",a.category.categoryID),p.Cb(2),p.qc("routerLink","/awards/p/",null==a.eventParent?null:a.eventParent.urlSlug,"/e/",null==a.eventChild?null:a.eventChild.urlSlug,"/categories/category/",null==a.category?null:a.category.categoryID,"")}}var ct=function(t){function e(e,n,a,r,c,i,o,p,l){var s=t.call(this,c)||this;return s.route=e,s.router=n,s.entryService=a,s.categoryService=r,s.fullpageService=c,s.eventParentService=i,s.eventChildService=o,s.location=p,s.title=l,l.setTitle("Create New Entry - Adspur"),s}return Y(e,t),e.prototype.onKeydownHandler=function(t){this.eventParent&&this.eventChild&&this.category&&this.router.navigate(["/awards/p/"+this.eventParent.urlSlug+"/e/"+this.eventChild.urlSlug+"/categories/category/"+this.category.categoryID],{relativeTo:this.route})},e.prototype.ngOnInit=function(){var t=this;this.route.params.switchMap((function(e){return t.getUrlSlugs()})).switchMap((function(e){return e&&e.categoryID?t.categoryService.getCategoryByID(e.categoryID):Object(v.a)(void 0)})).flatMap((function(e){return Object(y.a)([t.eventParentService.getEventParentByID(e.eventParentID),t.eventChildService.getEventChildByID(e.eventID),Object(v.a)(e)])})).subscribe((function(e){t.eventParent=e&&e[0]?e[0]:void 0,t.eventChild=e&&e[1]?e[1]:void 0,t.category=e&&e[2]?e[2]:void 0}))},e.prototype.getUrlSlugs=function(){return Object(v.a)(this.route.params).map((function(t){var e={categoryID:void 0};return e.categoryID=parseInt(t.value.categoryID),e}))},e.prototype.selectWork=function(t){var e=this;this.theWork=t,this.theWork&&this.category.categoryID?this.addRemoveEntry().subscribe((function(t){e.bEntryCreated=!!t})):Object(v.a)(void 0)},e.prototype.goBack=function(){this.location.back()},e.prototype.reset=function(){this.theWork=void 0,this.bEntryCreated=void 0},e.prototype.cancelEntry=function(){this.router.navigate(["/awards/p/"+this.eventParent.urlSlug+"/e/"+this.eventChild.urlSlug+"/categories/category/"+this.category.categoryID],{relativeTo:this.route})},e.prototype.addRemoveEntry=function(){var t=this;return this.entryService.createRemoveEntry(this.category.categoryID,this.theWork.campaignID).switchMap((function(e){return t.entryService.deleteLocalEntry({eventID:t.category.eventID,campaignID:t.theWork.campaignID})}))},e.\u0275fac=function(t){return new(t||e)(p.Nb(o.a),p.Nb(o.c),p.Nb(S.a),p.Nb(K.b),p.Nb(g.a),p.Nb($.a),p.Nb(q.a),p.Nb(a.i),p.Nb(d.e))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-create-entry-category"]],hostBindings:function(t,e){1&t&&p.bc("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,p.Bc)},features:[p.zb],decls:8,vars:5,consts:[["class","fullscreen_header text-center",4,"ngIf"],["mat-icon-button","","aria-label","Cancel and return to category","matTooltip","Cancel","matTooltipPosition","left",1,"fullscreen_close",3,"click"],["aria-hidden","true"],[3,"view","eventParent","eventChild","category",4,"ngIf"],[4,"ngIf"],["class","g-page-width",4,"ngIf"],[1,"fullscreen_header","text-center"],[1,"mat-display-0","mat-type"],[3,"view","eventParent","eventChild","category"],[1,"text-center","mat-display-0","mat-type","text-al-40"],[3,"bshowaddwork","bshowdefault","categoryid","workSelected",4,"ngIf"],[3,"bshowaddwork","bshowdefault","categoryid","workSelected"],[1,"g-page-width"],["fxLayout",""],["mat-icon-button","",3,"click"],["aria-label","Back work browser","aria-hidden","true"],["fxFlex","1 1",1,"text-center","mat-display-0","mat-type","text-al-40",2,"padding-right","40px"],[3,"campaignid","categoryid"],["fxLayout","","fxLayoutGap","8px"],["mat-stroked-button","","color","warn",3,"click"],["fxFlex",""],["mat-button","","color","accent",3,"click"],["mat-flat-button","","color","accent",3,"routerLink"],["fxLayout","row-reverse","fxLayoutGap","8px"]],template:function(t,e){1&t&&(p.Nc(0,Z,3,0,"header",0),p.Tb(1,"button",1),p.bc("click",(function(){return e.cancelEntry()})),p.Tb(2,"mat-icon",2),p.Pc(3,"close"),p.Sb(),p.Sb(),p.Nc(4,tt,1,4,"app-entry-nav-bar",3),p.Nc(5,nt,4,1,"div",4),p.Nc(6,at,18,6,"div",5),p.Nc(7,rt,13,6,"div",5)),2&t&&(p.mc("ngIf",e.category),p.Cb(4),p.mc("ngIf",e.category),p.Cb(1),p.mc("ngIf",!e.theWork),p.Cb(1),p.mc("ngIf",e.theWork&&e.category&&e.bEntryCreated&&e.theWork.isSingle),p.Cb(1),p.mc("ngIf",e.theWork&&e.category&&e.bEntryCreated&&!e.theWork.isSingle))},directives:[a.n,m.b,X.b,f.a,V.a,J.a,x.e,x.b,h.a,x.f,o.d,R],styles:["app-create-entry-category{display:block;padding-top:56px;padding-bottom:112px;margin:0;position:relative}app-create-entry-category .mat-display-0{margin:0}app-create-entry-category .mat-display-0.text-al-40{margin-top:8px;margin-bottom:32px}app-create-entry-category app-entry-nav-bar .entry-nav-bar{padding:24px 0}"],encapsulation:2}),e}(u.a),it=n("9Ku7"),ot=n("24n0"),pt=n("cJt6"),lt=n("2qRN"),st=n("nJag"),bt=n("Wp6s"),gt=n("znSr"),ut=n("kmnG"),dt=n("qFsG"),mt=n("if7t"),ft=n("pL4I"),ht=n("Reel"),yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();function vt(t,e){if(1&t&&p.Ob(0,"img",21),2&t){var n=p.fc(2);p.oc("fxFlex","",n.smallImgHeight,"px"),p.nc("height",n.smallImgHeight),p.mc("src",n.sanitizer.bypassSecurityTrustUrl(n.theWork.aFiles[0].thumbImage+n.smallImgParams),p.Fc)}}function St(t,e){1&t&&(p.Tb(0,"button",22),p.Tb(1,"h5",11),p.Tb(2,"span",12),p.Pc(3,"Step 2"),p.Sb(),p.Ob(4,"br"),p.Tb(5,"strong"),p.Pc(6,"Select Award show"),p.Sb(),p.Sb(),p.Sb())}function It(t,e){1&t&&(p.Tb(0,"span",25),p.Pc(1,"Change"),p.Sb())}function wt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"button",23),p.bc("click",(function(){return p.Cc(n),p.fc(2).setEventParent(void 0)})),p.Tb(1,"h5",11),p.Tb(2,"span",12),p.Pc(3),p.Sb(),p.Nc(4,It,2,0,"span",24),p.Ob(5,"br"),p.Tb(6,"strong"),p.Pc(7),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc(2);p.Cb(3),p.Qc(a.eventChild.eventName),p.Cb(1),p.mc("ngIf",!a.selectedMedium),p.Cb(3),p.Qc(a.eventParent.eventParentName)}}var xt=function(t){return{"is-active":t}};function kt(t,e){if(1&t&&(p.Tb(0,"button",26),p.Tb(1,"h5",11),p.Tb(2,"span",12),p.Pc(3,"Step 3"),p.Sb(),p.Ob(4,"br"),p.Tb(5,"strong"),p.Pc(6,"Select Medium"),p.Sb(),p.Sb(),p.Sb()),2&t){var n=p.fc(2);p.mc("ngClass",p.sc(1,xt,n.eventParent))}}function Ct(t,e){if(1&t&&(p.Tb(0,"span",12),p.Pc(1),p.Sb()),2&t){var n=p.fc(3);p.Cb(1),p.Rc(" ",n.selectedMedium.aAncestor[0].categoryName," ")}}function Tt(t,e){1&t&&(p.Tb(0,"span",25),p.Pc(1,"Change"),p.Sb())}function Pt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"button",27),p.bc("click",(function(){return p.Cc(n),p.fc(2).setMedium()})),p.Tb(1,"h5",11),p.Nc(2,Ct,2,1,"span",28),p.Nc(3,Tt,2,0,"span",24),p.Ob(4,"br"),p.Tb(5,"strong"),p.Pc(6),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc(2);p.Cb(2),p.mc("ngIf",a.selectedMedium.aAncestor&&2===a.selectedMedium.aAncestor.length),p.Cb(1),p.mc("ngIf",!a.category),p.Cb(3),p.Qc(a.selectedMedium.categoryName)}}function Dt(t,e){if(1&t&&(p.Tb(0,"button",26),p.Tb(1,"h5",11),p.Tb(2,"span",12),p.Pc(3,"Step 4"),p.Sb(),p.Ob(4,"br"),p.Tb(5,"strong"),p.Pc(6,"Select Category"),p.Sb(),p.Sb(),p.Sb()),2&t){var n=p.fc(2);p.mc("ngClass",p.sc(1,xt,n.selectedMedium))}}function Nt(t,e){if(1&t&&(p.Tb(0,"span",12),p.Pc(1),p.Sb()),2&t){var n=p.fc(4);p.Cb(1),p.Rc(" ",n.category.aAncestor[1].categoryName," ")}}function Et(t,e){if(1&t&&(p.Tb(0,"span",12),p.Pc(1),p.Sb()),2&t){var n=p.fc(4);p.Cb(1),p.Rc(" ",n.category.aAncestor[2].categoryName," ")}}function Ot(t,e){if(1&t){var n=p.Ub();p.Tb(0,"button",30),p.bc("click",(function(){return p.Cc(n),p.fc(3).setCategory()})),p.Tb(1,"h5",11),p.Nc(2,Nt,2,1,"span",28),p.Nc(3,Et,2,1,"span",28),p.Ob(4,"br"),p.Tb(5,"strong"),p.Pc(6),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc(3);p.Cb(2),p.mc("ngIf",3===a.category.aAncestor.length),p.Cb(1),p.mc("ngIf",4===a.category.aAncestor.length),p.Cb(3),p.Qc(a.category.categoryName)}}function Wt(t,e){if(1&t&&p.Nc(0,Ot,7,3,"button",29),2&t){var n=p.fc(2);p.mc("ngIf",n.category)}}var Ft=function(t){return{"is-inactive":t}};function Lt(t,e){if(1&t){var n=p.Ub();p.Rb(0),p.Tb(1,"li"),p.Tb(2,"button",35),p.bc("click",(function(){p.Cc(n);var t=e.$implicit;return p.fc(4).setEventChild(t)})),p.Pc(3),p.Sb(),p.Sb(),p.Qb()}if(2&t){var a=e.$implicit,r=p.fc(4);p.Cb(2),p.mc("ngClass",p.sc(2,Ft,r.eventChild!==a)),p.Cb(1),p.Rc(" ",a.eventName," ")}}function _t(t,e){if(1&t&&(p.Tb(0,"ul",33),p.Nc(1,Lt,4,4,"ng-container",34),p.Sb()),2&t){var n=p.fc(3);p.Cb(1),p.mc("ngForOf",n.eventParent.aEventObj)}}function At(t,e){if(1&t&&(p.Tb(0,"div",31),p.Nc(1,_t,2,1,"ul",32),p.Sb()),2&t){var n=p.fc(2);p.Cb(1),p.mc("ngIf",!n.category)}}function jt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"mat-icon",45),p.bc("click",(function(){return p.Cc(n),p.fc(4).clearSearchTerm()})),p.Pc(1," close "),p.Sb()}}function Mt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"app-event-parent-card",48),p.bc("eventParentSelected",(function(t){return p.Cc(n),p.fc(5).setEventParent(t)})),p.Sb()}if(2&t){var a=e.$implicit,r=p.fc(5);p.mc("campaignID",r.theWork.campaignID)("eventparent",a)("showfollowbutton",!1)("routerlink","/awards/p/"+(a.urlSlug&&a.urlSlug.length?a.urlSlug:a.eventParentID)+"/e/"+a.aEventObj[0].urlSlug+"/overview")}}var Rt=function(){return{margin:"16px 16px 0"}},Gt=function(){return{margin:"16px 24px 0"}},Bt=function(){return{padding:"16px 0"}},Ut=function(){return{padding:"16px"}},Ht=function(){return{padding:"16px 24px"}};function Qt(t,e){if(1&t&&(p.Rb(0),p.Tb(1,"h4",42),p.Pc(2," Showing "),p.Tb(3,"strong"),p.Pc(4),p.Sb(),p.Pc(5," Pinned Awards "),p.Sb(),p.Tb(6,"section",46),p.Nc(7,Mt,1,4,"app-event-parent-card",47),p.gc(8,"async"),p.Sb(),p.Qb()),2&t){var n=p.fc(4);p.Cb(1),p.Kc("visibility",n.awardShowSearchFormGroup.controls.searchTermControl.value?"hidden":"initial"),p.mc("ngStyle",p.rc(11,Rt))("ngStyle.gt-sm",p.rc(12,Gt)),p.Cb(3),p.Qc(n.aPinnedEventParent.length),p.Cb(2),p.mc("ngStyle",p.rc(13,Bt))("ngStyle.sm",p.rc(14,Ut))("ngStyle.gt-sm",p.rc(15,Ht)),p.Cb(1),p.mc("ngForOf",p.hc(8,9,n.getPinnedEventParent()))}}function zt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"app-event-parent-card",48),p.bc("eventParentSelected",(function(t){return p.Cc(n),p.fc(5).setEventParent(t)})),p.Sb()}if(2&t){var a=e.$implicit,r=p.fc(5);p.mc("campaignID",r.theWork.campaignID)("eventparent",a)("showfollowbutton",!1)("routerlink","/awards/p/"+(a.urlSlug&&a.urlSlug.length?a.urlSlug:a.eventParentID)+"/e/"+a.aEventObj[0].urlSlug+"/overview")}}function Kt(t,e){if(1&t&&(p.Tb(0,"section",46),p.Nc(1,zt,1,4,"app-event-parent-card",47),p.Sb()),2&t){var n=p.fc(4);p.mc("ngStyle",p.rc(4,Bt))("ngStyle.sm",p.rc(5,Ut))("ngStyle.gt-sm",p.rc(6,Ht)),p.Cb(1),p.mc("ngForOf",n.aEventParentFiltered)}}function $t(t,e){1&t&&(p.Tb(0,"h5",50),p.Ob(1,"br"),p.Ob(2,"br"),p.Pc(3," No awards matching that search "),p.Sb())}function qt(t,e){if(1&t&&p.Nc(0,$t,4,0,"h5",49),2&t){var n=p.fc(4);p.mc("ngIf",n.theWork)}}function Xt(t,e){if(1&t&&(p.Rb(0),p.Tb(1,"form",37),p.Tb(2,"mat-form-field",38),p.Tb(3,"mat-icon",39),p.Pc(4,"search"),p.Sb(),p.Ob(5,"input",40),p.Nc(6,jt,2,0,"mat-icon",41),p.Sb(),p.Sb(),p.Nc(7,Qt,9,16,"ng-container",2),p.Tb(8,"h4",42),p.Pc(9," Awards you're following "),p.Sb(),p.Nc(10,Kt,2,7,"section",43),p.Nc(11,qt,1,1,"ng-template",null,44,p.Oc),p.Qb()),2&t){var n=p.zc(12),a=p.fc(3);p.Cb(1),p.mc("formGroup",a.awardShowSearchFormGroup),p.Cb(1),p.mc("ngClass",p.sc(10,xt,a.awardShowSearchFormGroup.controls.searchTermControl.value)),p.Cb(4),p.mc("ngIf",a.awardShowSearchFormGroup.controls.searchTermControl.value),p.Cb(1),p.mc("ngIf",a.aPinnedEventParent&&a.aPinnedEventParent.length),p.Cb(1),p.Kc("visibility",a.awardShowSearchFormGroup.controls.searchTermControl.value?"hidden":"initial"),p.mc("ngStyle",p.rc(12,Rt))("ngStyle.gt-sm",p.rc(13,Gt)),p.Cb(2),p.mc("ngIf",a.aEventParentFiltered.length)("ngIfElse",n)}}function Vt(t,e){if(1&t&&(p.Tb(0,"h4",36),p.Pc(1," Browse and select the award you wish to enter "),p.Sb(),p.Nc(2,Xt,13,14,"ng-container",2)),2&t){var n=p.fc(2);p.Cb(2),p.mc("ngIf",n.aEventParentFiltered)}}function Jt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div"),p.Tb(1,"h4",36),p.Pc(2," Select Medium "),p.Sb(),p.Tb(3,"app-shared-categories",51),p.bc("categorySelected",(function(t){return p.Cc(n),p.fc(2).setMedium(t)})),p.Sb(),p.Sb()}if(2&t){var a=p.fc(2);p.Cb(3),p.mc("campaignID",a.theWork.campaignID)("eventChild",a.eventChild)}}function Yt(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div"),p.Tb(1,"h4",36),p.Pc(2," Select Category "),p.Sb(),p.Tb(3,"app-shared-medium",52),p.bc("categorySelected",(function(t){return p.Cc(n),p.fc(2).setCategory(t)})),p.Sb(),p.Sb()}if(2&t){var a=p.fc(2);p.Cb(3),p.mc("campaignID",a.theWork.campaignID)("eventChild",a.eventChild)("categoryID",a.selectedMedium.categoryID)}}function Zt(t,e){if(1&t&&p.Ob(0,"app-shared-file-manager",57),2&t){var n=p.fc(3);p.mc("campaignid",n.theWork.campaignID)("categoryid",n.category.categoryID)}}function te(t,e){if(1&t&&p.Ob(0,"app-shared-item-manager",57),2&t){var n=p.fc(3);p.mc("campaignid",n.theWork.campaignID)("categoryid",n.category.categoryID)}}function ee(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div",53),p.Tb(1,"h4",36),p.Pc(2," Confirm Files for "),p.Tb(3,"em"),p.Pc(4),p.Sb(),p.Sb(),p.Nc(5,Zt,1,2,"app-shared-file-manager",54),p.Nc(6,te,1,2,"app-shared-item-manager",54),p.Tb(7,"div",55),p.Tb(8,"button",56),p.bc("click",(function(){return p.Cc(n),p.fc(2).goBack()})),p.Pc(9," Done "),p.Sb(),p.Sb(),p.Sb()}if(2&t){var a=p.fc(2);p.Cb(4),p.Rc('"',a.theWork.campaignName,'"'),p.Cb(1),p.mc("ngIf",a.theWork.isSingle),p.Cb(1),p.mc("ngIf",!a.theWork.isSingle)}}function ne(t,e){if(1&t&&(p.Rb(0),p.Tb(1,"button",3),p.Tb(2,"mat-icon",4),p.Pc(3,"close"),p.Sb(),p.Sb(),p.Tb(4,"nav",5),p.Tb(5,"mat-card"),p.Tb(6,"ol",6),p.Tb(7,"li",7),p.Tb(8,"button",8),p.Tb(9,"div",9),p.Nc(10,vt,1,3,"img",10),p.Tb(11,"h5",11),p.Tb(12,"span",12),p.Pc(13),p.Sb(),p.Ob(14,"br"),p.Tb(15,"strong"),p.Pc(16),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(17,"li",7),p.Nc(18,St,7,0,"button",13),p.Nc(19,wt,8,3,"ng-template",null,14,p.Oc),p.Sb(),p.Tb(21,"li",7),p.Nc(22,kt,7,3,"button",15),p.Nc(23,Pt,7,3,"ng-template",null,16,p.Oc),p.Sb(),p.Tb(25,"li",7),p.Nc(26,Dt,7,3,"button",15),p.Nc(27,Wt,1,1,"ng-template",null,17,p.Oc),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Nc(29,At,2,1,"div",18),p.Nc(30,Vt,3,1,"ng-template",null,19,p.Oc),p.Nc(32,Jt,4,2,"div",2),p.Nc(33,Yt,4,3,"div",2),p.Nc(34,ee,10,3,"div",20),p.Qb()),2&t){var n=p.zc(20),a=p.zc(24),r=p.zc(28),c=p.zc(31),i=p.fc();p.Cb(1),p.oc("routerLink","/work/",i.theWork.isSingle?i.theWork.campaignID:i.theWork.campaignID+"/"+i.theWork.aItems[0].campaignID,""),p.Cb(7),p.oc("routerLink","/work/",i.theWork.isSingle?i.theWork.campaignID:i.theWork.campaignID+"/"+i.theWork.aItems[0].campaignID,""),p.Cb(2),p.mc("ngIf",i.theWork.aFiles&&i.theWork.aFiles.length),p.Cb(3),p.Qc(i.theWork.advertiserClientName),p.Cb(3),p.Qc(i.theWork.campaignName),p.Cb(2),p.mc("ngIf",!i.eventParent)("ngIfElse",n),p.Cb(4),p.mc("ngIf",!i.selectedMedium)("ngIfElse",a),p.Cb(4),p.mc("ngIf",!i.category)("ngIfElse",r),p.Cb(3),p.mc("ngIf",i.eventParent)("ngIfElse",c),p.Cb(3),p.mc("ngIf",i.eventChild&&!i.selectedMedium),p.Cb(1),p.mc("ngIf",i.eventChild&&i.selectedMedium&&!i.category),p.Cb(1),p.mc("ngIf",i.category&&i.bEntryCreated)}}var ae=[{path:"work/:campaignID/create-entry",component:function(t){function e(e,n,a,r,c,i,o,p,l,s,b,g,u,d,m,f){var h=t.call(this,m)||this;return h.authenticationService=e,h.categoryService=n,h.entryService=a,h.eventParentService=r,h.fb=c,h.limitToPipe=i,h.location=o,h.networkService=p,h.orderByPipe=l,h.route=s,h.router=b,h.title=g,h.theworkService=u,h.userService=d,h.fullpageService=m,h.sanitizer=f,h.smallImgHeight=ot.c,h.smallImgParams=ot.d,g.setTitle("Create New Entry - Adspur"),h}return yt(e,t),e.prototype.onKeydownHandler=function(t){this.theWork&&this.router.navigate(["/work/"+(this.theWork.isSingle?this.theWork.campaignID:this.theWork.campaignID+"/"+this.theWork.aItems[0].campaignID)],{relativeTo:this.route})},e.prototype.ngOnInit=function(){var t=this;Object(y.a)([this.theworkService.getWork(parseInt(this.route.snapshot.paramMap.get("campaignID"))).map((function(e){return t.theWork=e})),this.networkService.getPinnedEventParent(this.authenticationService.currentUserValue.networkID).map((function(e){return t.aPinnedEventParent=e})),Object(y.a)([this.eventParentService.getEventParents().map((function(e){return t.aEventParent=e})),this.userService.getUserEventParentFollow().map((function(e){return t.aFollowEventParent=e}))]).map((function(e){return t.buildEventParentFilteredArray(t.filterFollowedEventsOrNot(e[0],e[1]))}))]).subscribe(),this.awardShowSearchFormGroup=this.fb.group({searchTermControl:new r.g("")}),this.awardShowSearchFormGroup.get("searchTermControl").valueChanges.debounceTime(500).subscribe((function(e){return t.buildEventParentFilteredArray(e&&e.length>1?t.aEventParent.filter((function(t){return-1!==t.eventParentName.toLowerCase().indexOf(e.toLowerCase())})):t.filterFollowedEventsOrNot(t.aEventParent,t.aFollowEventParent))}))},e.prototype.filterFollowedEventsOrNot=function(t,e){return void 0===e&&(e=[]),e.length?t.filter((function(t){return-1!==e.indexOf(t.eventParentID)})):t},e.prototype.buildEventParentFilteredArray=function(t){this.aEventParentFiltered=this.limitToPipe.transform(this.orderByPipe.transform(t,"followCount",!1),50)},e.prototype.setEventParent=function(t){this.bEntryCreated=!1,this.eventParent=t,this.setEventChild(this.eventParent?this.eventParent.aEventObj[0]:void 0)},e.prototype.setEventChild=function(t){this.bEntryCreated=!1,this.eventChild=t,this.setMedium()},e.prototype.setMedium=function(t){void 0===t&&(t={data:void 0,bRedirect:void 0}),this.bEntryCreated=!1,this.selectedMedium=t.data,this.setCategory()},e.prototype.setCategory=function(t){var e=this;void 0===t&&(t={data:void 0,bRedirect:void 0,isEntry:void 0}),this.bEntryCreated=!1,this.category=t.data,this.category&&this.theWork.campaignID&&this.entryService.createRemoveEntry(this.category.categoryID,this.theWork.campaignID).switchMap((function(t){return e.entryService.deleteLocalEntry({eventID:e.category.eventID,campaignID:e.theWork.campaignID,categoryID:e.category.categoryID})})).subscribe((function(n){t.isEntry?e.setCategory():t.bRedirect?e.router.navigate(["/work/"+e.theWork.campaignID+(e.theWork.isSingle?"":"/"+e.theWork.aItems[0].campaignID)]):t.addAnother&&(e.category=void 0)}))},e.prototype.clearSearchTerm=function(){this.awardShowSearchFormGroup.controls.searchTermControl.setValue("")},e.prototype.goBack=function(){this.location.back()},e.prototype.getPinnedEventParent=function(){var t=this;return Object(v.a)(this.aEventParent.filter((function(e){return t.aPinnedEventParent.find((function(t){return t===e.eventParentID}))})))},e.\u0275fac=function(t){return new(t||e)(p.Nb(it.a),p.Nb(K.b),p.Nb(S.a),p.Nb($.a),p.Nb(r.f),p.Nb(st.a),p.Nb(a.i),p.Nb(pt.a),p.Nb(C.a),p.Nb(o.a),p.Nb(o.c),p.Nb(d.e),p.Nb(b.b),p.Nb(lt.a),p.Nb(g.a),p.Nb(d.c))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-create-entry-work"]],hostBindings:function(t,e){1&t&&p.bc("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,p.Bc)},features:[p.zb],decls:4,vars:1,consts:[[1,"fullscreen_header","text-center"],[1,"mat-display-0","mat-type"],[4,"ngIf"],["mat-icon-button","","aria-label","Cancel and return to the work","matTooltip","Cancel","matTooltipPosition","left",1,"fullscreen_close",3,"routerLink"],["aria-hidden","true"],["role","navigation",1,"g-page-width","entry-stepper"],["fxLayout","column","fxLayout.sm","row wrap","fxLayout.gt-sm","row","fxLayoutAlign","center stretch",1,"blank-list"],["fxFlex","flex","fxFlex.gt-xs","50","fxFlex.gt-sm","flex"],["mat-button","","aria-label","Back to Work item","matTooltip","Back to The Work",3,"routerLink"],["fxLayout","","fxLayoutGap","12px"],["class","g-img-bg","alt","",3,"fxFlex","height","src",4,"ngIf"],[1,"mat-caption","truncate"],[1,"text-al-66"],["mat-button","","disabled","","class","is-active",4,"ngIf","ngIfElse"],["eventParentSelected",""],["mat-button","","disabled","",3,"ngClass",4,"ngIf","ngIfElse"],["mediumSelected",""],["categorySelected",""],["class","g-page-width child-selector",4,"ngIf","ngIfElse"],["eventParentList",""],["class","g-page-width",4,"ngIf"],["alt","",1,"g-img-bg",3,"fxFlex","height","src"],["mat-button","","disabled","",1,"is-active"],["mat-button","","aria-label","Change Award from: ","matTooltip","Change Award",3,"click"],["class","text-highlight text-op-75 g-fl-r",4,"ngIf"],[1,"text-highlight","text-op-75","g-fl-r"],["mat-button","","disabled","",3,"ngClass"],["mat-button","","aria-label","Change Medium form: ","matTooltip","Change Medium",3,"click"],["class","text-al-66",4,"ngIf"],["mat-button","","aria-label","Change Category form: ","matTooltip","Change Category",3,"click",4,"ngIf"],["mat-button","","aria-label","Change Category form: ","matTooltip","Change Category",3,"click"],[1,"g-page-width","child-selector"],["class","blank-list",4,"ngIf"],[1,"blank-list"],[4,"ngFor","ngForOf"],[1,"blank-button","mat-caption","text-link","text-center",3,"ngClass","click"],[1,"text-center","mat-display-0","mat-type","text-al-40"],[1,"event_search-wrapper",3,"formGroup"],["appearance","fill",1,"mat-input-striped","event_search","mat-elevation-z2",3,"ngClass"],["matPrefix","","aria-hidden","true",1,"text-al-54"],["matInput","","formControlName","searchTermControl","placeholder","Search Awards","autocomplete","off"],["matSuffix","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"mat-caption","text-al-40",3,"ngStyle","ngStyle.gt-sm"],["fxLayout","row wrap","fxLayoutAlign","start stretch","fxLayoutGap","grid","fxLayoutGap.gt-xs","16px grid","fxLayoutGap.gt-md","24px grid",3,"ngStyle","ngStyle.sm","ngStyle.gt-sm",4,"ngIf","ngIfElse"],["noEventParents",""],["matSuffix","","aria-label","Clear search",3,"click"],["fxLayout","row wrap","fxLayoutAlign","start stretch","fxLayoutGap","grid","fxLayoutGap.gt-xs","16px grid","fxLayoutGap.gt-md","24px grid",3,"ngStyle","ngStyle.sm","ngStyle.gt-sm"],["class","animate-card-waterfall","fxFlex","100","fxFlex.sm","50","fxFlex.md","33.33","fxFlex.lg","25","fxFlex.gt-lg","20",3,"campaignID","eventparent","showfollowbutton","routerlink","eventParentSelected",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.sm","50","fxFlex.md","33.33","fxFlex.lg","25","fxFlex.gt-lg","20",1,"animate-card-waterfall",3,"campaignID","eventparent","showfollowbutton","routerlink","eventParentSelected"],["class","text-center mat-display-0 mat-type",4,"ngIf"],[1,"text-center","mat-display-0","mat-type"],[1,"g-page-width",3,"campaignID","eventChild","categorySelected"],[1,"g-page-width",3,"campaignID","eventChild","categoryID","categorySelected"],[1,"g-page-width"],[3,"campaignid","categoryid",4,"ngIf"],["fxLayout","row-reverse","fxLayoutGap","8px",1,"animate-cascade-block"],["mat-flat-button","","color","accent",3,"click"],[3,"campaignid","categoryid"]],template:function(t,e){1&t&&(p.Tb(0,"header",0),p.Tb(1,"h1",1),p.Pc(2,"Create New Entry"),p.Sb(),p.Sb(),p.Nc(3,ne,35,16,"ng-container",2)),2&t&&(p.Cb(3),p.mc("ngIf",e.theWork))},directives:[a.n,m.b,X.b,o.d,f.a,bt.a,x.e,x.d,x.b,x.f,a.l,gt.a,a.m,r.y,r.r,r.j,ut.c,ut.h,dt.b,r.c,r.q,r.i,a.o,gt.c,ut.i,mt.a,ft.a,ht.a,h.a,R],pipes:[a.b],styles:["app-create-entry-work{display:block;padding-top:56px;padding-bottom:112px;margin:0;position:relative}app-create-entry-work .mat-display-0{margin:0}app-create-entry-work .mat-display-0.text-al-40{margin-top:32px;margin-bottom:32px}app-create-entry-work .entry-stepper{margin:24px auto}app-create-entry-work .entry-stepper .mat-card{padding:0}app-create-entry-work .entry-stepper li{min-width:0}app-create-entry-work .entry-stepper .mat-button{padding:16px 16px 14px;border-radius:0;width:100%;height:100%;text-align:left;line-height:normal;border-top:1px solid rgba(0,0,0,.12)}@media (min-width:480px) and (max-width:960px){app-create-entry-work .entry-stepper .mat-button:nth-child(2n-1){border-left:1px solid rgba(0,0,0,.12)}}@media (min-width:960px){app-create-entry-work .entry-stepper .mat-button{border:none}}app-create-entry-work .entry-stepper .mat-button.is-active{color:inherit;border-bottom:2px solid #ff3d00;background-color:#f9f3f2}app-create-entry-work .entry-stepper .mat-button[disabled]:not(.is-active) .text-al-66{color:rgba(0,0,0,.26)}app-create-entry-work .entry-stepper .mat-button .mat-icon{vertical-align:text-bottom;margin-right:4px}app-create-entry-work .entry-stepper li:first-child .mat-button{border-top:none}@media (min-width:960px){app-create-entry-work .entry-stepper li:first-child .mat-button{border-left:none}}@media (min-width:590px) and (max-width:960px){app-create-entry-work .entry-stepper li:nth-child(2) .mat-button{border-top:none}}app-create-entry-work .entry-stepper img{margin-top:-8px;margin-bottom:-8px;margin-left:-6px;border-radius:2px}app-create-entry-work .entry-stepper .mat-caption{margin-top:0;margin-bottom:0}app-create-entry-work .event_search-wrapper{margin:24px auto 0;max-width:30em}app-create-entry-work .event_search-wrapper .event_search{width:100%}app-create-entry-work .event_search-wrapper .event_search.is-active,app-create-entry-work .event_search-wrapper .event_search.mat-focused{-webkit-box-shadow:rgba(0,0,0,.2) 0 5px 5px -3px,rgba(0,0,0,.14) 0 8px 10px 1px,rgba(0,0,0,.12) 0 3px 14px 2px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}app-create-entry-work .event_search-wrapper .event_search .mat-form-field-flex{padding:12px 24px}app-create-entry-work .event_search-wrapper .event_search .mat-form-field-prefix{padding-right:8px}app-create-entry-work .event_search-wrapper .event_search .mat-icon{cursor:pointer}app-create-entry-work .child-selector .blank-list{margin:-20px 12px -23px}app-create-entry-work .child-selector .blank-list li{display:inline-block;margin-right:16px}app-create-entry-work app-shared-categories .app-medium-grouping_item:first-of-type{margin-top:-8px!important}app-create-entry-work app-shared-medium .app-medium-header{display:none!important}app-create-entry-work app-shared-medium .app-medium-grouping_item:first-of-type{margin-top:-8px!important}app-create-entry-work app-shared-medium .joined-card-list.mat-elevation-z2{-webkit-box-shadow:none;box-shadow:none}"],encapsulation:2}),e}(u.a),data:{animation:"CreateEntryWorkPage"}},{path:"category/:categoryID/create-entry",component:ct,data:{animation:"CreateEntryCategoryPage"}},{path:":categoryID/:campaignID/entry-manager",component:z,data:{animation:"EntriesEntryManagerPage"}},{path:":categoryID/:campaignID",component:s,children:[{path:":itemCampaignID",component:s}],data:{animation:"EntriesEntryPage"}}],re=function(){function t(){}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(ae)],o.g]}),t}(),ce=n("R/nW"),ie=n("627d"),oe=function(){function t(){}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},imports:[[a.c,i.a,c.a,ie.a]]}),t}(),pe=n("Hm14"),le=n("MhWf"),se=function(){function t(){}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},imports:[[a.c,le.a,r.l,r.v,c.a,i.a,re,ce.a,ie.a,oe,pe.a]]}),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0iPy":function(e,t,a){"use strict";a.r(t),a.d(t,"AwardshowAdminModule",(function(){return qe}));var r=a("ofXK"),n=a("3Pt+"),o=a("FvrZ"),i=a("jAig"),c=a("PCNd"),s=a("R/nW"),p=a("tyNb"),l=a("9Ku7"),d=a("8t76"),b=a("LRne"),u=a("cp0P"),w=a("fXoL"),f=a("if7t");function h(e,t){if(1&e&&(w.Rb(0),w.Ob(1,"app-event-parent-card",1),w.Qb()),2&e){var a=t.$implicit;w.Cb(1),w.mc("eventparent",a)("showfollowbutton",!1)("routerlink","./"+a.eventParentID)}}var m=function(){function e(e,t,a,r){this.route=e,this.authenticationService=t,this.eventParentService=a,this.router=r}return e.prototype.ngOnInit=function(){var e=this;Object(b.a)(this.authenticationService.isLoggedIn()).map((function(t){return t?e.authenticationService.currentUserValue:e.router.navigate(["/home"],{relativeTo:e.route})})).flatMap((function(t){return Object(u.a)([e.eventParentService.getUserAdminAwardshows(t.userID),e.eventParentService.getEventParents()])})).map((function(e){return e&&e[0]&&e[0].length&&e[1]&&e[1].length?e[1].filter((function(t){return e[0].filter((function(e){return e.eventParentID===t.eventParentID})).length})):[]})).subscribe((function(t){e.aAwardshowAdmin=t}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(l.a),w.Nb(d.a),w.Nb(p.c))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-index"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"eventparent","showfollowbutton","routerlink"]],template:function(e,t){1&e&&(w.Tb(0,"p"),w.Pc(1," awardshow-index works!\n"),w.Sb(),w.Pc(2,"\npending aAwardshowAdmin\n"),w.Nc(3,h,2,3,"ng-container",0)),2&e&&(w.Cb(3),w.mc("ngForOf",t.aAwardshowAdmin))},directives:[r.m,f.a],styles:[""]}),e}(),g=a("0EQZ"),v=a("jhN1"),S=a("XhcP"),P=a("XiUz"),T=a("f0Cb"),C=a("MutI"),y=a("NFeN"),I=a("FKr1"),N=a("bTqV");function R(e,t){if(1&e&&(w.Tb(0,"a",23),w.Pc(1," View Profile "),w.Sb()),2&e){var a=w.fc(2);w.pc("routerLink","/awards/p/",a.eventParent.urlSlug,"/e/",a.eventParent.aEventObj[0].urlSlug,"")}}function D(e,t){if(1&e&&(w.Rb(0),w.Tb(1,"h1",21),w.Pc(2),w.Sb(),w.Nc(3,R,2,2,"a",22),w.Qb()),2&e){var a=w.fc();w.Cb(2),w.Qc(a.eventParent.eventParentName),w.Cb(1),w.mc("ngIf",a.eventParent.aEventObj&&a.eventParent.aEventObj.length)}}function k(e,t){if(1&e&&(w.Tb(0,"cdk-nested-tree-node",24),w.Tb(1,"a",25),w.Ob(2,"mat-icon",26),w.Tb(3,"span",9),w.Pc(4),w.Sb(),w.Sb(),w.Sb()),2&e){var a=t.$implicit;w.Cb(1),w.mc("routerLink",a.urlSlug),w.Cb(3),w.Qc(a.label)}}function E(e,t){if(1&e&&(w.Tb(0,"cdk-nested-tree-node",24),w.Tb(1,"a",27),w.Tb(2,"mat-icon",26),w.Pc(3),w.Sb(),w.Tb(4,"span",9),w.Pc(5),w.Sb(),w.Sb(),w.Tb(6,"div"),w.Pb(7,28),w.Sb(),w.Sb()),2&e){var a=t.$implicit,r=w.fc();w.Cb(1),w.Db("aria-label","toggle "+a.label),w.Cb(2),w.Qc(r.treeControl.isExpanded(a)?"expand_more":"chevron_right"),w.Cb(2),w.Qc(a.label),w.Cb(1),w.Fb("tree-invisible",!r.treeControl.isExpanded(a))}}var x=function(){function e(e,t,a){this.eventParentService=e,this.route=t,this.title=a,this.treeControl=new o.k((function(e){return e.children})),this.hasChild=function(e,t){return!!t.children&&t.children.length>0},this.title.setTitle("Award Admin - Adspur")}return e.prototype.ngOnInit=function(){this.loadData().subscribe()},e.prototype.loadData=function(e){var t=this;return Object(b.a)(e).switchMap((function(e){return e?Object(b.a)(e):t.eventParentService.getEventParentByID(parseInt(t.route.snapshot.paramMap.get("eventParentID")))})).map((function(e){t.EC_TREE_DATA=[],t.ecDataSource=void 0,t.eventParent=e,t.eventParent.aEventObj&&t.eventParent.aEventObj.length&&t.eventParent.aEventObj.forEach((function(e){t.EC_TREE_DATA.push({label:e.eventName,urlSlug:"",children:[{label:"Overview",urlSlug:"./e/"+e.eventID+"/overview"},{label:"Assets",urlSlug:"./e/"+e.eventID+"/assets"},{label:"Dates",urlSlug:"./e/"+e.eventID+"/dates"},{label:"Categories",urlSlug:"./e/"+e.eventID+"/categories"},{label:"Fees",urlSlug:"./e/"+e.eventID+"/fees"},{label:"Jurors",urlSlug:"./e/"+e.eventID+"/jurors"},{label:"Winners",urlSlug:"./e/"+e.eventID+"/winners"}]})})),t.ecDataSource=new g.a(t.EC_TREE_DATA)}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(d.a),w.Nb(p.a),w.Nb(v.e))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-profile"]],decls:65,vars:4,consts:[["id","admin-profile_draw-container"],["mode","side","opened",""],[1,"mat-drawer-header"],["fxLayout","","fxLayoutAlign","space-between center",1,"mat-drawer-header_actions"],[1,"text-highlight","mat-caption"],["routerLink","../",1,"text-highlight","mat-caption"],[4,"ngIf"],["mat-list-item","","routerLink","./stats"],["mat-list-icon","","aria-hidden","true","color","accent"],["mat-line",""],["mat-list-item","","routerLink","./followers"],["mat-list-item","","routerLink","./ranking"],["mat-list-item","","routerLink","./verified"],["mat-list-item","","routerLink","./administrators"],["mat-list-item","","routerLink","./details"],["mat-list-item","","routerLink","./regions"],["mat-list-item","","routerLink","./sectors"],["mat-list-item","","routerLink","./manage-events"],[1,"mat-nav-list","mat-list-base",3,"dataSource","treeControl"],["class","tree-node",4,"cdkTreeNodeDef"],["class","tree-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"strong","mat-subheading-2"],["mat-flat-button","","color","accent",3,"routerLink",4,"ngIf"],["mat-flat-button","","color","accent",3,"routerLink"],[1,"tree-node"],["mat-list-item","",3,"routerLink"],["mat-list-icon","","aria-hidden","true"],["mat-list-item","","cdkTreeNodeToggle",""],["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&(w.Tb(0,"mat-drawer-container",0),w.Tb(1,"mat-drawer",1),w.Tb(2,"div",2),w.Tb(3,"div",3),w.Tb(4,"h5",4),w.Pc(5,"Admin"),w.Sb(),w.Tb(6,"a",5),w.Pc(7,"Change"),w.Sb(),w.Sb(),w.Nc(8,D,4,2,"ng-container",6),w.Sb(),w.Ob(9,"mat-divider"),w.Tb(10,"mat-nav-list"),w.Tb(11,"a",7),w.Tb(12,"mat-icon",8),w.Pc(13,"timeline"),w.Sb(),w.Tb(14,"span",9),w.Pc(15,"Stats"),w.Sb(),w.Sb(),w.Tb(16,"a",10),w.Tb(17,"mat-icon",8),w.Pc(18,"group"),w.Sb(),w.Tb(19,"span",9),w.Pc(20,"Followers"),w.Sb(),w.Sb(),w.Tb(21,"a",11),w.Tb(22,"mat-icon",8),w.Pc(23,"whatshot"),w.Sb(),w.Tb(24,"span",9),w.Pc(25,"Ranking"),w.Sb(),w.Sb(),w.Tb(26,"a",12),w.Tb(27,"mat-icon",8),w.Pc(28,"verified_user"),w.Sb(),w.Tb(29,"span",9),w.Pc(30,"Verified"),w.Sb(),w.Sb(),w.Tb(31,"a",13),w.Tb(32,"mat-icon",8),w.Pc(33,"supervised_user_circle"),w.Sb(),w.Tb(34,"span",9),w.Pc(35,"Administrators"),w.Sb(),w.Sb(),w.Sb(),w.Ob(36,"mat-divider"),w.Tb(37,"mat-nav-list"),w.Tb(38,"a",14),w.Tb(39,"mat-icon",8),w.Pc(40,"edit"),w.Sb(),w.Tb(41,"span",9),w.Pc(42,"Details"),w.Sb(),w.Sb(),w.Tb(43,"a",15),w.Tb(44,"mat-icon",8),w.Pc(45,"location_on"),w.Sb(),w.Tb(46,"span",9),w.Pc(47,"Regions"),w.Sb(),w.Sb(),w.Tb(48,"a",16),w.Tb(49,"mat-icon",8),w.Pc(50,"business"),w.Sb(),w.Tb(51,"span",9),w.Pc(52,"Sectors"),w.Sb(),w.Sb(),w.Sb(),w.Ob(53,"mat-divider"),w.Tb(54,"mat-nav-list"),w.Tb(55,"a",17),w.Tb(56,"mat-icon",8),w.Pc(57,"edit"),w.Sb(),w.Tb(58,"span",9),w.Pc(59,"Manage Events"),w.Sb(),w.Sb(),w.Sb(),w.Tb(60,"cdk-tree",18),w.Nc(61,k,5,2,"cdk-nested-tree-node",19),w.Nc(62,E,8,5,"cdk-nested-tree-node",20),w.Sb(),w.Sb(),w.Tb(63,"mat-drawer-content"),w.Ob(64,"router-outlet"),w.Sb(),w.Sb()),2&e&&(w.Cb(8),w.mc("ngIf",t.eventParent),w.Cb(52),w.mc("dataSource",t.ecDataSource)("treeControl",t.treeControl),w.Cb(2),w.mc("cdkTreeNodeDefWhen",t.hasChild))},directives:[S.b,S.a,P.e,P.d,p.f,r.n,T.a,C.g,C.c,y.a,C.b,I.l,o.c,o.f,S.c,p.h,N.a,o.b,o.i,o.g],styles:["app-awardshow-profile{display:block;min-height:calc(100vh - 56px)}app-awardshow-profile #admin-profile_draw-container{position:absolute;top:0;bottom:0;left:0;right:0}app-awardshow-profile .mat-drawer{width:100%;min-width:200px;max-width:245px}app-awardshow-profile .mat-drawer .mat-drawer-header{padding:16px 24px}app-awardshow-profile .mat-drawer .mat-drawer-header .mat-drawer-header_actions .mat-caption{font-size:10px;font-weight:700;line-height:normal;text-transform:uppercase;margin-top:16px;margin-bottom:8px;text-decoration:none}app-awardshow-profile .mat-drawer .mat-drawer-header .mat-subheading-2{margin-bottom:10px;line-height:20px}app-awardshow-profile .mat-drawer .mat-list-base{padding-bottom:8px}app-awardshow-profile .mat-drawer .mat-list-base .mat-list-item.mat-list-item-with-avatar{height:42px;font-size:14px}app-awardshow-profile .mat-drawer .mat-list-base .mat-list-item-content{padding:0 21px}app-awardshow-profile .mat-drawer .mat-nav-list+cdk-tree{padding-top:0;margin-top:-8px}app-awardshow-profile .mat-drawer cdk-tree .tree-invisible{display:none}app-awardshow-profile .mat-drawer cdk-tree .tree-node .tree-node .mat-list-item.mat-list-item-with-avatar{padding:4px 0}app-awardshow-profile .mat-drawer cdk-tree.mat-list-base .mat-list-item.mat-list-item-with-avatar{height:auto;padding:5px 0}app-awardshow-profile mat-drawer-content{-webkit-box-sizing:border-box;box-sizing:border-box;padding:32px 16px 24px}@media (min-width:960px){app-awardshow-profile mat-drawer-content{padding:45px 24px 24px}}app-awardshow-profile app-awardshow-administrators,app-awardshow-profile app-awardshow-details,app-awardshow-profile app-awardshow-event-assets,app-awardshow-profile app-awardshow-event-categories,app-awardshow-profile app-awardshow-event-dates,app-awardshow-profile app-awardshow-event-fees,app-awardshow-profile app-awardshow-event-jurors,app-awardshow-profile app-awardshow-event-overview,app-awardshow-profile app-awardshow-event-winners,app-awardshow-profile app-awardshow-following,app-awardshow-profile app-awardshow-manage-events,app-awardshow-profile app-awardshow-news,app-awardshow-profile app-awardshow-ranking,app-awardshow-profile app-awardshow-regions,app-awardshow-profile app-awardshow-sectors,app-awardshow-profile app-awardshow-stats,app-awardshow-profile app-awardshow-verified{display:block}app-awardshow-profile app-awardshow-administrators .awardshow-event-child_title,app-awardshow-profile app-awardshow-details .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-assets .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-categories .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-dates .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-fees .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-jurors .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-overview .awardshow-event-child_title,app-awardshow-profile app-awardshow-event-winners .awardshow-event-child_title,app-awardshow-profile app-awardshow-following .awardshow-event-child_title,app-awardshow-profile app-awardshow-manage-events .awardshow-event-child_title,app-awardshow-profile app-awardshow-news .awardshow-event-child_title,app-awardshow-profile app-awardshow-ranking .awardshow-event-child_title,app-awardshow-profile app-awardshow-regions .awardshow-event-child_title,app-awardshow-profile app-awardshow-sectors .awardshow-event-child_title,app-awardshow-profile app-awardshow-stats .awardshow-event-child_title,app-awardshow-profile app-awardshow-verified .awardshow-event-child_title{height:11px;font-size:10px;font-weight:700;line-height:normal;text-transform:uppercase;margin-top:-13px;margin-bottom:5px}app-awardshow-profile app-awardshow-administrators .g-page-width,app-awardshow-profile app-awardshow-details .g-page-width,app-awardshow-profile app-awardshow-event-assets .g-page-width,app-awardshow-profile app-awardshow-event-categories .g-page-width,app-awardshow-profile app-awardshow-event-dates .g-page-width,app-awardshow-profile app-awardshow-event-fees .g-page-width,app-awardshow-profile app-awardshow-event-jurors .g-page-width,app-awardshow-profile app-awardshow-event-overview .g-page-width,app-awardshow-profile app-awardshow-event-winners .g-page-width,app-awardshow-profile app-awardshow-following .g-page-width,app-awardshow-profile app-awardshow-manage-events .g-page-width,app-awardshow-profile app-awardshow-news .g-page-width,app-awardshow-profile app-awardshow-ranking .g-page-width,app-awardshow-profile app-awardshow-regions .g-page-width,app-awardshow-profile app-awardshow-sectors .g-page-width,app-awardshow-profile app-awardshow-stats .g-page-width,app-awardshow-profile app-awardshow-verified .g-page-width{padding-left:0;margin-left:0}app-awardshow-profile app-awardshow-administrators .mat-title,app-awardshow-profile app-awardshow-details .mat-title,app-awardshow-profile app-awardshow-event-assets .mat-title,app-awardshow-profile app-awardshow-event-categories .mat-title,app-awardshow-profile app-awardshow-event-dates .mat-title,app-awardshow-profile app-awardshow-event-fees .mat-title,app-awardshow-profile app-awardshow-event-jurors .mat-title,app-awardshow-profile app-awardshow-event-overview .mat-title,app-awardshow-profile app-awardshow-event-winners .mat-title,app-awardshow-profile app-awardshow-following .mat-title,app-awardshow-profile app-awardshow-manage-events .mat-title,app-awardshow-profile app-awardshow-news .mat-title,app-awardshow-profile app-awardshow-ranking .mat-title,app-awardshow-profile app-awardshow-regions .mat-title,app-awardshow-profile app-awardshow-sectors .mat-title,app-awardshow-profile app-awardshow-stats .mat-title,app-awardshow-profile app-awardshow-verified .mat-title{padding-top:16px}"],encapsulation:2}),e}(),L=a("2qRN"),O=a("owQd"),F=a("Xa2L"),U=a("kmnG"),A=a("qFsG");function M(e,t){if(1&e&&w.Ob(0,"mat-spinner",2),2&e){var a=w.fc();w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function _(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," An Award Name is "),w.Tb(2,"strong"),w.Pc(3,"required"),w.Sb(),w.Sb())}function G(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid email address "),w.Sb())}function Q(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid phone number "),w.Sb())}function W(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid URL "),w.Sb())}function j(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," An Award URL is "),w.Tb(2,"strong"),w.Pc(3,"required"),w.Sb(),w.Sb())}function V(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid URL "),w.Sb())}function $(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid URL "),w.Sb())}function B(e,t){1&e&&(w.Tb(0,"mat-error"),w.Pc(1," Please enter a valid URL "),w.Sb())}function z(e,t){if(1&e&&(w.Tb(0,"mat-form-field",8),w.Tb(1,"mat-label"),w.Pc(2),w.Sb(),w.Ob(3,"input",21),w.Sb()),2&e){var a=t.$implicit,r=w.fc(3);w.Cb(2),w.Qc(a.socialNetworkName),w.Cb(1),w.oc("formControlName","awardSocialMediaURL",a.socialNetworkID,""),w.mc("errorStateMatcher",r.matcher)}}function H(e,t){if(1&e){var a=w.Ub();w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",4),w.Pc(3,"Details"),w.Sb(),w.Sb(),w.Tb(4,"div",5),w.Tb(5,"form",6),w.bc("ngSubmit",(function(){return w.Cc(a),w.fc(2).saveData()})),w.Tb(6,"mat-error",7),w.Pc(7,"Please check for errors"),w.Sb(),w.Tb(8,"mat-form-field",8),w.Tb(9,"mat-label"),w.Pc(10,"Award Name"),w.Sb(),w.Ob(11,"input",9),w.Nc(12,_,4,0,"mat-error",3),w.Sb(),w.Tb(13,"legend",10),w.Pc(14,"Award Contact"),w.Sb(),w.Tb(15,"mat-form-field",8),w.Tb(16,"mat-label"),w.Pc(17,"Name"),w.Sb(),w.Ob(18,"input",11),w.Sb(),w.Tb(19,"mat-form-field",8),w.Tb(20,"mat-label"),w.Pc(21,"Email"),w.Sb(),w.Ob(22,"input",12),w.Nc(23,G,2,0,"mat-error",3),w.Sb(),w.Tb(24,"mat-form-field",8),w.Tb(25,"mat-label"),w.Pc(26,"Phone"),w.Sb(),w.Ob(27,"input",13),w.Nc(28,Q,2,0,"mat-error",3),w.Sb(),w.Ob(29,"br"),w.Tb(30,"legend",10),w.Pc(31,"Award Links"),w.Sb(),w.Tb(32,"mat-form-field",8),w.Tb(33,"mat-label"),w.Pc(34,"Main Website URL"),w.Sb(),w.Ob(35,"input",14),w.Nc(36,W,2,0,"mat-error",3),w.Nc(37,j,4,0,"mat-error",3),w.Sb(),w.Tb(38,"mat-form-field",8),w.Tb(39,"mat-label"),w.Pc(40,"Entries URL"),w.Sb(),w.Ob(41,"input",15),w.Nc(42,V,2,0,"mat-error",3),w.Sb(),w.Tb(43,"mat-form-field",8),w.Tb(44,"mat-label"),w.Pc(45,"Call For Entries URL"),w.Sb(),w.Ob(46,"input",16),w.Nc(47,$,2,0,"mat-error",3),w.Sb(),w.Tb(48,"mat-form-field",8),w.Tb(49,"mat-label"),w.Pc(50,"Categories URL"),w.Sb(),w.Ob(51,"input",17),w.Nc(52,B,2,0,"mat-error",3),w.Sb(),w.Ob(53,"br"),w.Tb(54,"legend",10),w.Pc(55,"Social Media Accounts"),w.Sb(),w.Nc(56,z,4,3,"mat-form-field",18),w.Tb(57,"mat-error",7),w.Pc(58,"Please check for errors"),w.Sb(),w.Tb(59,"div",19),w.Tb(60,"button",20),w.Pc(61," Save Award "),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Qb()}if(2&e){var r=w.fc(2);w.Cb(5),w.mc("formGroup",r.editAwardFormGroup),w.Cb(1),w.Kc("display",r.bError?"block":"none"),w.Cb(5),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.awardNameFormControl?null:r.awardNameFormControl.hasError("required")),w.Cb(6),w.mc("errorStateMatcher",r.matcher),w.Cb(4),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.contactEmailFormControl?null:r.contactEmailFormControl.hasError("email")),w.Cb(4),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.contactPhoneFormControl?null:r.contactPhoneFormControl.hasError()),w.Cb(7),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.awardWebsiteURL?null:r.awardWebsiteURL.hasError()),w.Cb(1),w.mc("ngIf",null==r.awardWebsiteURL?null:r.awardWebsiteURL.hasError("required")),w.Cb(4),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.awardEntriesURL?null:r.awardEntriesURL.hasError()),w.Cb(4),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.awardCallForEntriesURL?null:r.awardCallForEntriesURL.hasError()),w.Cb(4),w.mc("errorStateMatcher",r.matcher),w.Cb(1),w.mc("ngIf",null==r.awardCategoriesURL?null:r.awardCategoriesURL.hasError()),w.Cb(4),w.mc("ngForOf",r.aSocialNetworks),w.Cb(1),w.Kc("display",r.bError?"block":"none"),w.Cb(3),w.mc("disabled",r.isDisabled())}}function q(e,t){if(1&e&&(w.Rb(0),w.Nc(1,H,62,23,"ng-container",3),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("ngIf",a.eventParent)}}var K=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))},e}(),X=function(){function e(e,t,a,r,n,o,i){this.route=e,this.router=t,this.eventParentService=a,this.socialNetworkService=r,this.userService=n,this.fb=o,this.matIconRegistry=i,this.bShowDetails=!1,this.bError=!1,this.matcher=new K,this.urlReg="^(ht|f)tp(s?)://[0-9a-zA-Z]([-.w]*[0-9a-zA-Z])*(:(0-9)*)*(/?)([a-zA-Z0-9-.?,\\'/\\+&%$#_=]*)?",i.registerFontClassAlias("fab"),this.createForm()}return e.prototype.createForm=function(){this.editAwardFormGroup=this.fb.group({awardNameFormControl:new n.g("",[n.x.required]),contactNameFormControl:new n.g("",[]),contactEmailFormControl:new n.g("",[n.x.email]),contactPhoneFormControl:new n.g(" ",[n.x.pattern("^[+]*[0-9]*[ ]*[(]{0,1}[0-9]{1,4}[)]{0,1}[- .0-9]*")]),awardWebsiteURL:new n.g("",[n.x.required,n.x.pattern(this.urlReg)]),awardEntriesURL:new n.g("",[n.x.pattern(this.urlReg)]),awardCallForEntriesURL:new n.g("",[n.x.pattern(this.urlReg)]),awardCategoriesURL:new n.g("",[n.x.pattern(this.urlReg)])})},e.prototype.ngOnInit=function(){this.init()},e.prototype.init=function(){var e=this;this.bShowDetails=!1,this.route.params.switchMap((function(t){return e.loadData()})).map((function(){e.editAwardFormGroup.patchValue({awardNameFormControl:e.eventParent.eventParentName}),e.editAwardFormGroup.patchValue({contactNameFormControl:e.eventParent.contactName}),e.editAwardFormGroup.patchValue({contactEmailFormControl:e.eventParent.contactEmail}),e.editAwardFormGroup.patchValue({contactPhoneFormControl:e.eventParent.contactPhone}),e.editAwardFormGroup.patchValue({awardWebsiteURL:e.eventParent.eventParentWebsiteURL}),e.editAwardFormGroup.patchValue({awardEntriesURL:e.eventParent.eventParentEntriesURL}),e.editAwardFormGroup.patchValue({awardCallForEntriesURL:e.eventParent.eventParentCallForEntriesURL}),e.editAwardFormGroup.patchValue({awardCategoriesURL:e.eventParent.eventParentCategoriesURL}),e.aSocialNetworks.forEach((function(t){t.eventSocialNetwork=e.aEventSocialNetworks.find((function(e){return e.socialNetworkID===t.socialNetworkID})),e.editAwardFormGroup.addControl("awardSocialMediaURL"+t.socialNetworkID,new n.g(t.eventSocialNetwork?t.eventSocialNetwork.websiteURL:"",[n.x.pattern(e.urlReg)]))})),e.bShowDetails=!0})).subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParentByID(t.eventParentID),e.socialNetworkService.getSocialNetworkByEventParentID(t.eventParentID),e.socialNetworkService.getSocialNetworks()])})).map((function(t){return e.eventParent=t[0],e.aEventSocialNetworks=t[1],e.aSocialNetworks=t[2].sort((function(e,t){return e.displayOrder>t.displayOrder?1:t.displayOrder>e.displayOrder?-1:0})),!0}))},e.prototype.saveData=function(){var e=this;this.bShowDetails=!1;var t={};t.awardName=this.editAwardFormGroup.get("awardNameFormControl").value,t.contactName=this.editAwardFormGroup.get("contactNameFormControl").value,t.contactEmail=this.editAwardFormGroup.get("contactEmailFormControl").value,t.contactPhone=this.editAwardFormGroup.get("contactPhoneFormControl").value,t.awardWebsiteURL=this.editAwardFormGroup.get("awardWebsiteURL").value,t.awardEntriesURL=this.editAwardFormGroup.get("awardEntriesURL").value,t.awardCallForEntriesURL=this.editAwardFormGroup.get("awardCallForEntriesURL").value,t.awardCategoriesURL=this.editAwardFormGroup.get("awardCategoriesURL").value,this.aSocialNetworks.forEach((function(a){a.eventSocialNetwork=e.aEventSocialNetworks.find((function(e){return e.socialNetworkID===a.socialNetworkID})),""!==e.editAwardFormGroup.get("awardSocialMediaURL"+a.socialNetworkID).value&&(t["awardSocialMediaURL"+a.socialNetworkID]=e.editAwardFormGroup.get("awardSocialMediaURL"+a.socialNetworkID).value)})),this.eventParentService.saveEventParentDetails(this.eventParent.eventParentID,t).switchMap((function(t){return e.eventParentService.deleteEventParent(e.eventParent.eventParentID).switchMap((function(){return e.eventParentService.getEventParentByID(e.eventParent.eventParentID)}))})).switchMap((function(t){return e.socialNetworkService.deleteSocialNetworkByEventParent(e.eventParent.eventParentID)})).subscribe((function(t){e.init(),e.bShowDetails=!0}),(function(t){e.bShowDetails=!0}))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.prototype.isDisabled=function(){return"VALID"!==this.editAwardFormGroup.get("awardNameFormControl").status||"VALID"!==this.editAwardFormGroup.get("awardWebsiteURL").status},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(O.a),w.Nb(L.a),w.Nb(n.f),w.Nb(y.c))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-details"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[4,"ngIf"],[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"],["fxLayout","column",3,"formGroup","ngSubmit"],[1,"mat-caption"],["appearance","outline"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Award name","formControlName","awardNameFormControl",3,"errorStateMatcher"],[1,"mat-title"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Contact name","formControlName","contactNameFormControl",3,"errorStateMatcher"],["matInput","","type","email","aria-label","Email of award contact","autocomplete","off","autocorrect","off","formControlName","contactEmailFormControl",3,"errorStateMatcher"],["matInput","","type","email","aria-label","Phone of award contact","autocomplete","off","autocorrect","off","formControlName","contactPhoneFormControl",3,"errorStateMatcher"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Main website URL","formControlName","awardWebsiteURL",3,"errorStateMatcher"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Entries URL","formControlName","awardEntriesURL",3,"errorStateMatcher"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Call for entries URL","formControlName","awardCallForEntriesURL",3,"errorStateMatcher"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","Categories URL","formControlName","awardCategoriesURL",3,"errorStateMatcher"],["appearance","outline",4,"ngFor","ngForOf"],["fxLayout","row-reverse"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["matInput","","type","text","autocomplete","off","autocorrect","off","aria-label","socialNetwork.socialNetworkName",3,"formControlName","errorStateMatcher"]],template:function(e,t){if(1&e&&(w.Nc(0,M,1,3,"ng-template",null,0,w.Oc),w.Nc(2,q,2,1,"ng-container",1)),2&e){var a=w.zc(1);w.Cb(2),w.mc("ngIf",t.bShowDetails)("ngIfElse",a)}},directives:[r.n,F.c,n.y,n.r,P.e,n.j,U.b,U.c,U.g,A.b,n.c,n.q,n.i,r.m,N.b],styles:[""],encapsulation:2}),e}(),Z=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-administrators"]],decls:4,vars:0,consts:[[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"]],template:function(e,t){1&e&&(w.Tb(0,"header"),w.Tb(1,"h1",0),w.Pc(2,"Administrators"),w.Sb(),w.Sb(),w.Ob(3,"div",1))},styles:[""]}),e}();function J(e,t){if(1&e&&w.Ob(0,"mat-spinner",2),2&e){var a=w.fc();w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function Y(e,t){if(1&e&&(w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",4),w.Pc(3,"Followers"),w.Sb(),w.Sb(),w.Tb(4,"div",5),w.Tb(5,"span",6),w.Pc(6),w.gc(7,"number"),w.Sb(),w.Sb(),w.Qb()),2&e){var a=w.fc(2);w.Cb(6),w.Qc(w.ic(7,1,a.eventParent.followCount,"2."))}}function ee(e,t){if(1&e&&(w.Rb(0),w.Nc(1,Y,8,4,"ng-container",3),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("ngIf",a.eventParent)}}var te=function(){function e(e,t,a,r){this.route=e,this.router=t,this.eventParentService=a,this.userService=r,this.bShowPage=!1}return e.prototype.ngOnInit=function(){this.bShowPage=!1,this.loadData().subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParents().map((function(e){return e.filter((function(e){return e.eventParentID===t.eventParentID}))[0]}))])})).map((function(t){return e.bShowPage=!0,e.eventParent=t[0],!0}))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(L.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-followers"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[4,"ngIf"],[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"],[1,"mat-display-3",2,"line-height","2"]],template:function(e,t){if(1&e&&(w.Nc(0,J,1,3,"ng-template",null,0,w.Oc),w.Nc(2,ee,2,1,"ng-container",1)),2&e){var a=w.zc(1);w.Cb(2),w.mc("ngIf",t.bShowPage)("ngIfElse",a)}},directives:[r.n,F.c],pipes:[r.f],styles:[""],encapsulation:2}),e}(),ae=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-ranking"]],decls:4,vars:0,consts:[[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"]],template:function(e,t){1&e&&(w.Tb(0,"header"),w.Tb(1,"h1",0),w.Pc(2,"Ranking"),w.Sb(),w.Sb(),w.Ob(3,"div",1))},styles:[""]}),e}(),re=a("uiav"),ne=a("aorJ"),oe=a("QibW"),ie=a("bSwM"),ce=a("d3UM"),se=a("A5z7");function pe(e,t){if(1&e&&(w.Rb(0),w.Ob(1,"mat-spinner",1),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function le(e,t){if(1&e){var a=w.Ub();w.Tb(0,"mat-checkbox",12),w.bc("change",(function(){w.Cc(a);var e=t.$implicit;return w.fc(4).updateSelectedRegions(e.regionID)})),w.Pc(1),w.Sb()}if(2&e){var r=t.$implicit,n=w.fc(4);w.mc("checked",n.isRegionSelected(r.regionID)),w.Cb(1),w.Rc(" ",r.regionName," ")}}function de(e,t){if(1&e&&(w.Rb(0),w.Tb(1,"div",10),w.Tb(2,"mat-radio-group"),w.Nc(3,le,2,2,"mat-checkbox",11),w.Sb(),w.Sb(),w.Qb()),2&e){var a=w.fc(3);w.Cb(3),w.mc("ngForOf",a.aRegions)}}function be(e,t){if(1&e&&(w.Tb(0,"mat-option",9),w.Pc(1),w.Sb()),2&e){var a=w.fc().$implicit;w.mc("value",a.countryID),w.Cb(1),w.Rc(" ",a.countryName," ")}}function ue(e,t){if(1&e&&(w.Tb(0,"span"),w.Nc(1,be,2,2,"mat-option",16),w.Sb()),2&e){var a=t.$implicit,r=w.fc(4);w.Cb(1),w.mc("ngIf",!r.isCountrySelected(a.countryID))}}function we(e,t){if(1&e){var a=w.Ub();w.Tb(0,"mat-chip",18),w.bc("removed",(function(){w.Cc(a);var e=w.fc().$implicit;return w.fc(4).updateSelectedCountries(e.countryID)})),w.Pc(1),w.Tb(2,"mat-icon",19),w.Pc(3,"cancel"),w.Sb(),w.Sb()}if(2&e){var r=w.fc().$implicit;w.mc("removable",!0)("selectable",!1),w.Cb(1),w.Rc(" ",r.countryName," ")}}function fe(e,t){if(1&e&&(w.Tb(0,"span"),w.Nc(1,we,4,3,"mat-chip",17),w.Sb()),2&e){var a=t.$implicit,r=w.fc(4);w.Cb(1),w.mc("ngIf",r.isCountrySelected(a.countryID))}}function he(e,t){if(1&e){var a=w.Ub();w.Rb(0),w.Tb(1,"div",10),w.Tb(2,"mat-form-field",13),w.Tb(3,"mat-label"),w.Pc(4,"Add country"),w.Sb(),w.Tb(5,"mat-select",14),w.bc("selectionChange",(function(e){return w.Cc(a),w.fc(3).updateSelectedCountries(e.value,e.source)})),w.Nc(6,ue,2,1,"span",6),w.Sb(),w.Sb(),w.Tb(7,"mat-chip-list",15),w.Nc(8,fe,2,1,"span",6),w.Sb(),w.Sb(),w.Qb()}if(2&e){var r=w.fc(3);w.Cb(6),w.mc("ngForOf",r.aCountries),w.Cb(1),w.mc("selectable",!1),w.Cb(1),w.mc("ngForOf",r.aCountries)}}function me(e,t){if(1&e&&(w.Tb(0,"mat-list-item"),w.Tb(1,"mat-radio-button",9),w.Pc(2),w.Sb(),w.Nc(3,de,4,1,"ng-container",0),w.Nc(4,he,9,3,"ng-container",0),w.Sb()),2&e){var a=t.$implicit,r=w.fc(2);w.Cb(1),w.mc("value",a),w.Cb(1),w.Qc(a),w.Cb(1),w.mc("ngIf",r.selectedRegionType==a&&"Regional"==r.selectedRegionType),w.Cb(1),w.mc("ngIf",r.selectedRegionType==a&&"Local"==r.selectedRegionType)}}function ge(e,t){if(1&e){var a=w.Ub();w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",2),w.Pc(3,"Regions"),w.Sb(),w.Sb(),w.Tb(4,"div",3),w.Tb(5,"form",4),w.bc("ngSubmit",(function(){return w.Cc(a),w.fc().saveRegions()})),w.Tb(6,"mat-radio-group",5),w.bc("ngModelChange",(function(e){return w.Cc(a),w.fc().selectedRegionType=e})),w.Nc(7,me,5,4,"mat-list-item",6),w.Sb(),w.Tb(8,"div",7),w.Tb(9,"button",8),w.Pc(10,"Save"),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Qb()}if(2&e){var r=w.fc();w.Cb(6),w.mc("ngModel",r.selectedRegionType),w.Cb(1),w.mc("ngForOf",r.aRegionTypes)}}var ve=function(){function e(e,t,a,r,n,o,i){this.route=e,this.router=t,this.eventParentService=a,this.regionService=r,this.userService=n,this.countryService=o,this.fb=i,this.aSelectedRegions=[],this.aRegionTypes=["Global","Regional","Local"],this.aSelectedCountries=[],this.bShowRegions=!1,this.createForm()}return e.prototype.createForm=function(){this.regionsFormGroup=this.fb.group({regionsFormControl:new n.g("",[])})},e.prototype.ngOnInit=function(){this.loadData().subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParentByID(t.eventParentID),e.regionService.getRegions(),e.countryService.getCountries()])})).map((function(t){return e.eventParent=t&&t[0]?t[0]:[],e.aRegion=t&&t[1]?t[1]:[],e.aCountries=t&&t[2]?t[2]:[],e.aEventParentRegion=e.aRegion.filter((function(t){return e.eventParent.aRegionID.filter((function(e){return e===t.regionID})).length})),e.aRegions=e.aRegion.filter((function(e){return e.regionID>0&&e.regionID<6})),e.selectedRegionType=e.getRegionType(),e.aRegions.filter((function(t){return e.isRegionUsedByEvent(t.regionID)})).forEach((function(t){e.aSelectedRegions.push(t.regionID)})),e.aCountries.filter((function(t){return e.isCountryUsedByEvent(t.countryID)})).forEach((function(t){e.aSelectedCountries.push(t.countryID)})),e.bShowRegions=!0,!0}))},e.prototype.getRegionType=function(){return this.aEventParentRegion.find((function(e){return 0===e.regionID}))?this.aRegionTypes[0]:this.aEventParentRegion.find((function(e){return e.regionID>0&&e.regionID<6}))?this.aRegionTypes[1]:0===this.aEventParentRegion.length?this.aRegionTypes[2]:""},e.prototype.isRegionUsedByEvent=function(e){var t=this.aEventParentRegion.find((function(t){return t.regionID===e}));return!!t&&t.regionID===e},e.prototype.isRegionSelected=function(e){return-1!==this.aSelectedRegions.indexOf(e)},e.prototype.updateSelectedRegions=function(e){this.isRegionSelected(e)?this.aSelectedRegions.splice(this.aSelectedRegions.indexOf(e),1):this.aSelectedRegions.push(e)},e.prototype.isCountryUsedByEvent=function(e){return!(this.selectedRegionType!==this.aRegionTypes[2]||!this.eventParent.aCountryID||-1===this.eventParent.aCountryID.indexOf(e))},e.prototype.isCountrySelected=function(e){return-1!==this.aSelectedCountries.indexOf(e)},e.prototype.updateSelectedCountries=function(e,t){this.isCountrySelected(e)?(t&&(t.value=""),this.aSelectedCountries.splice(this.aSelectedCountries.indexOf(e),1)):(t&&(t.value=""),this.aSelectedCountries.push(e))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.prototype.saveRegions=function(){var e=this;this.bShowRegions=!1;var t={};t.regionType=this.selectedRegionType,t.regions=this.aSelectedRegions,t.countries=this.aSelectedCountries,this.eventParentService.saveEventParentRegions(this.eventParent.eventParentID,t).switchMap((function(t){return e.eventParentService.deleteEventParent(e.eventParent.eventParentID).switchMap((function(){return e.eventParentService.getEventParentByID(e.eventParent.eventParentID)}))})).subscribe((function(t){e.loadData(),e.bShowRegions=!0}),(function(t){e.bShowRegions=!0}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(re.b),w.Nb(L.a),w.Nb(ne.a),w.Nb(n.f))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-regions"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"color","strokeWidth","diameter"],[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"],[3,"ngSubmit"],["name","selectedRegionType",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["fxLayout","row-reverse"],["mat-flat-button","","color","accent","type","submit"],[3,"value"],[1,"region-content"],[3,"checked","change",4,"ngFor","ngForOf"],[3,"checked","change"],["appearance","outline",1,"animate-cascade-block"],[3,"selectionChange"],[3,"selectable"],[3,"value",4,"ngIf"],[3,"removable","selectable","removed",4,"ngIf"],[3,"removable","selectable","removed"],["matChipRemove",""]],template:function(e,t){1&e&&(w.Nc(0,pe,2,3,"ng-container",0),w.Nc(1,ge,11,2,"ng-container",0)),2&e&&(w.mc("ngIf",!t.bShowRegions),w.Cb(1),w.mc("ngIf",t.eventParent&&t.bShowRegions))},directives:[r.n,F.c,n.y,n.r,n.s,oe.b,n.q,n.t,r.m,P.e,N.b,C.c,oe.a,ie.a,U.c,U.g,ce.a,se.c,I.p,se.a,y.a,se.d],styles:["mat-radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;margin:10px 0}mat-radio-button[_ngcontent-%COMP%]{margin:10px 0;font-weight:700}mat-checkbox[_ngcontent-%COMP%]{margin:10px 0}mat-form-field[_ngcontent-%COMP%]{width:100%}.region-content[_ngcontent-%COMP%]{margin:10px 0 30px 30px}"]}),e}(),Se=a("LgEB");function Pe(e,t){if(1&e&&(w.Rb(0),w.Ob(1,"mat-spinner",1),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function Te(e,t){if(1&e&&(w.Tb(0,"mat-option",12),w.Pc(1),w.Sb()),2&e){var a=w.fc().$implicit;w.mc("value",a.sectorID),w.Cb(1),w.Rc(" ",a.sectorName," ")}}function Ce(e,t){if(1&e&&(w.Tb(0,"span"),w.Nc(1,Te,2,2,"mat-option",11),w.Sb()),2&e){var a=t.$implicit,r=w.fc(2);w.Cb(1),w.mc("ngIf",!r.isSectorSelected(a.sectorID))}}function ye(e,t){if(1&e){var a=w.Ub();w.Tb(0,"mat-chip",14),w.bc("removed",(function(){w.Cc(a);var e=w.fc().$implicit;return w.fc(2).updateSelectedSectors(e.sectorID)})),w.Pc(1),w.Tb(2,"mat-icon",15),w.Pc(3,"cancel"),w.Sb(),w.Sb()}if(2&e){var r=w.fc().$implicit;w.mc("removable",!0)("selectable",!1),w.Cb(1),w.Rc(" ",r.sectorName," ")}}function Ie(e,t){if(1&e&&(w.Tb(0,"span"),w.Nc(1,ye,4,3,"mat-chip",13),w.Sb()),2&e){var a=t.$implicit,r=w.fc(2);w.Cb(1),w.mc("ngIf",r.isSectorSelected(a.sectorID))}}function Ne(e,t){if(1&e){var a=w.Ub();w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",2),w.Pc(3,"Sectors"),w.Sb(),w.Sb(),w.Tb(4,"div",3),w.Tb(5,"form",4),w.bc("ngSubmit",(function(){return w.Cc(a),w.fc().saveSectors()})),w.Tb(6,"mat-form-field",5),w.Tb(7,"mat-label"),w.Pc(8,"Add sector"),w.Sb(),w.Tb(9,"mat-select",6),w.bc("selectionChange",(function(e){return w.Cc(a),w.fc().updateSelectedSectors(e.value,e.source)})),w.Nc(10,Ce,2,1,"span",7),w.Sb(),w.Sb(),w.Tb(11,"mat-chip-list",8),w.Nc(12,Ie,2,1,"span",7),w.Sb(),w.Tb(13,"div",9),w.Tb(14,"button",10),w.Pc(15,"Save"),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Qb()}if(2&e){var r=w.fc();w.Cb(10),w.mc("ngForOf",r.aSectors),w.Cb(1),w.mc("selectable",!1),w.Cb(1),w.mc("ngForOf",r.aSectors)}}var Re=function(){function e(e,t,a,r,n){this.route=e,this.router=t,this.eventParentService=a,this.sectorService=r,this.userService=n,this.aSelectedSectors=[],this.bShowSectors=!1}return e.prototype.ngOnInit=function(){this.loadData().subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParentByID(t.eventParentID),e.sectorService.getSectors()])})).map((function(t){return e.eventParent=t[0],e.aSectors=t[1],e.aEventParentSector=e.aSectors.filter((function(t){return e.eventParent.aSectorID.filter((function(e){return e===t.sectorID})).length})),e.aSectors.filter((function(t){return e.isSectorUsedByEvent(t.sectorID)})).forEach((function(t){e.aSelectedSectors.push(t.sectorID)})),e.bShowSectors=!0,!0}))},e.prototype.isSectorUsedByEvent=function(e){return!(!this.eventParent.aSectorID||-1===this.eventParent.aSectorID.indexOf(e))},e.prototype.isSectorSelected=function(e){return-1!==this.aSelectedSectors.indexOf(e)},e.prototype.updateSelectedSectors=function(e,t){this.isSectorSelected(e)?(t&&(t.value=""),this.aSelectedSectors.splice(this.aSelectedSectors.indexOf(e),1)):(t&&(t.value=""),this.aSelectedSectors.push(e))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.prototype.saveSectors=function(){var e=this;this.bShowSectors=!1;var t={};t.sectors=this.aSelectedSectors,this.eventParentService.saveEventParentSectors(this.eventParent.eventParentID,t).switchMap((function(t){return e.eventParentService.deleteEventParent(e.eventParent.eventParentID).switchMap((function(){return e.eventParentService.getEventParentByID(e.eventParent.eventParentID)}))})).subscribe((function(t){e.loadData(),e.bShowSectors=!0}),(function(t){e.bShowSectors=!0}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(Se.a),w.Nb(L.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-sectors"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"color","strokeWidth","diameter"],[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"],[3,"ngSubmit"],["appearance","outline",1,"animate-cascade-block"],[3,"selectionChange"],[4,"ngFor","ngForOf"],[3,"selectable"],["fxLayout","row-reverse",1,"submit-button"],["mat-flat-button","","color","accent","type","submit"],[3,"value",4,"ngIf"],[3,"value"],[3,"removable","selectable","removed",4,"ngIf"],[3,"removable","selectable","removed"],["matChipRemove",""]],template:function(e,t){1&e&&(w.Nc(0,Pe,2,3,"ng-container",0),w.Nc(1,Ne,16,3,"ng-container",0)),2&e&&(w.mc("ngIf",!t.bShowSectors),w.Cb(1),w.mc("ngIf",t.eventParent&&t.bShowSectors))},directives:[r.n,F.c,n.y,n.r,n.s,U.c,U.g,ce.a,r.m,se.c,P.e,N.b,I.p,se.a,y.a,se.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{margin-top:20px}"]}),e}(),De=a("Wp6s");function ke(e,t){if(1&e&&w.Ob(0,"mat-spinner",2),2&e){var a=w.fc();w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function Ee(e,t){if(1&e&&(w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",4),w.Pc(3,"Stats"),w.Sb(),w.Sb(),w.Tb(4,"div",5),w.Tb(5,"mat-card",6),w.Tb(6,"h3",4),w.Tb(7,"a",7),w.Pc(8,"Followers"),w.Sb(),w.Ob(9,"br"),w.Tb(10,"span",8),w.Pc(11),w.gc(12,"number"),w.Sb(),w.Sb(),w.Tb(13,"p",9),w.Pc(14,"[past week \u2014 "),w.Tb(15,"mat-icon",10),w.Pc(16,"keyboard_arrow_up"),w.Sb(),w.Pc(17,"\t6]"),w.Sb(),w.Sb(),w.Tb(18,"mat-card",6),w.Tb(19,"h3",4),w.Tb(20,"a",11),w.Pc(21,"Ranking"),w.Sb(),w.Ob(22,"br"),w.Tb(23,"span",8),w.Pc(24,"[1]"),w.Sb(),w.Sb(),w.Tb(25,"p",9),w.Pc(26,"[past week \u2014 "),w.Tb(27,"mat-icon",10),w.Pc(28,"keyboard_arrow_up"),w.Sb(),w.Pc(29,"\t6]"),w.Sb(),w.Sb(),w.Tb(30,"mat-card",6),w.Tb(31,"h3",4),w.Pc(32," Profile Views"),w.Ob(33,"br"),w.Tb(34,"span",8),w.Pc(35,"[28]"),w.Sb(),w.Sb(),w.Tb(36,"p",9),w.Pc(37,"[past week \u2014 "),w.Tb(38,"mat-icon",12),w.Pc(39,"keyboard_arrow_down"),w.Sb(),w.Pc(40,"\t6]"),w.Sb(),w.Sb(),w.Sb(),w.Qb()),2&e){var a=w.fc(2);w.Cb(11),w.Qc(w.ic(12,1,a.eventParent.followCount,"2."))}}function xe(e,t){if(1&e&&(w.Rb(0),w.Nc(1,Ee,41,4,"ng-container",3),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("ngIf",a.eventParent)}}var Le=function(){function e(e,t,a,r){this.route=e,this.router=t,this.eventParentService=a,this.userService=r,this.bShowPage=!1}return e.prototype.ngOnInit=function(){this.bShowPage=!1,this.loadData().subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParents().map((function(e){return e.filter((function(e){return e.eventParentID===t.eventParentID}))[0]}))])})).map((function(t){return e.bShowPage=!0,e.eventParent=t[0],!0}))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(L.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-stats"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[4,"ngIf"],[1,"mat-display-0","mat-type"],["fxLayout","row","fxLayoutGap","24px"],["fxFlex","",1,"text-center",2,"padding-top","32px"],["routerLink","../followers",1,"text-link"],[1,"mat-display-3",2,"line-height","2"],[1,"mat-caption","text-al-54"],[1,"text-success",2,"vertical-align","bottom"],["routerLink","../ranking",1,"text-link"],[1,"text-warn",2,"vertical-align","bottom"]],template:function(e,t){if(1&e&&(w.Nc(0,ke,1,3,"ng-template",null,0,w.Oc),w.Nc(2,xe,2,1,"ng-container",1)),2&e){var a=w.zc(1);w.Cb(2),w.mc("ngIf",t.bShowPage)("ngIfElse",a)}},directives:[r.n,F.c,P.e,P.f,De.a,P.b,p.f,y.a],pipes:[r.f],styles:[""],encapsulation:2}),e}(),Oe=a("Q0oM"),Fe=a("0IaG");function Ue(e,t){if(1&e&&(w.Tb(0,"mat-list-item"),w.Tb(1,"h4",7),w.Pc(2),w.Sb(),w.Tb(3,"div",8),w.Tb(4,"a",9),w.Pc(5," Edit "),w.Sb(),w.Tb(6,"button",10),w.Pc(7," Delete "),w.Sb(),w.Sb(),w.Sb()),2&e){var a=t.$implicit;w.Cb(2),w.Qc(a.eventName),w.Cb(2),w.oc("routerLink","../e/",a.eventID,"/details")}}function Ae(e,t){if(1&e&&(w.Tb(0,"mat-card"),w.Tb(1,"mat-list"),w.Nc(2,Ue,8,2,"mat-list-item",6),w.Sb(),w.Sb()),2&e){var a=w.fc();w.Cb(2),w.mc("ngForOf",a.eventParent.aEventObj)}}var Me=function(){function e(e,t,a,r,n){this.route=e,this.router=t,this.eventParentService=a,this.userService=r,this.dialog=n}return e.prototype.ngOnInit=function(){var e=this;this.getUrlSlugs().switchMap((function(t){return e.eventParentService.getEventParentByID(t.eventParentID)})).subscribe((function(t){e.eventParent=t}))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.prototype.openContactDialog=function(){this.dialog.open(Oe.a,{minWidth:"300px",width:"450px",data:{title:"Add New Award",icon:!1,content:'For now, please contact us at <a class="text-link" href="mailto:awards@adspur.com">awards@adspur.com</a> to create new awards.',confirm:"Close"}}).afterClosed().subscribe((function(e){}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(L.a),w.Nb(Fe.b))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-manage-events"]],decls:10,vars:1,consts:[[1,"g-page-width","g-page-width--narrow"],["fxLayout","","fxLayoutAlign","space-between start"],[1,"mat-display-0","mat-type"],["mat-flat-button","","color","accent","routerLink","../e/0/details"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-line",""],["fxLayout","row","fxLayoutGap","8px"],["mat-flat-button","",3,"routerLink"],["mat-flat-button",""]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"header",1),w.Tb(2,"h1",2),w.Pc(3,"Manage Events"),w.Sb(),w.Tb(4,"button",3),w.Tb(5,"mat-icon",4),w.Pc(6,"add"),w.Sb(),w.Tb(7,"span"),w.Pc(8," Add New Event"),w.Sb(),w.Sb(),w.Sb(),w.Nc(9,Ae,3,1,"mat-card",5),w.Sb()),2&e&&(w.Cb(9),w.mc("ngIf",t.eventParent))},directives:[P.e,P.d,N.b,p.d,y.a,r.n,De.a,C.a,r.m,C.c,I.l,P.f,N.a,p.f],styles:["app-awardshow-manage-events .mat-card{padding:0}app-awardshow-manage-events .mat-list{padding-top:0}app-awardshow-manage-events .mat-list-item{border-bottom:1px solid rgba(0,0,0,.05)}app-awardshow-manage-events .mat-list-item:last-child{border-bottom:0}"],encapsulation:2}),e}(),_e=a("Qu3c"),Ge=a("znSr");function Qe(e,t){if(1&e&&w.Ob(0,"mat-spinner",2),2&e){var a=w.fc();w.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function We(e,t){1&e&&(w.Rb(0),w.Tb(1,"h2",4),w.Pc(2,"Your a "),w.Tb(3,"strong"),w.Pc(4,"Verified"),w.Sb(),w.Pc(5," adspur Event"),w.Sb(),w.Qb())}function je(e,t){1&e&&(w.Tb(0,"h2",9),w.Pc(1,"To become a "),w.Tb(2,"strong"),w.Pc(3,"Verified"),w.Sb(),w.Pc(4," Adspur Event please "),w.Tb(5,"a",10),w.Pc(6,"contact"),w.Sb(),w.Pc(7," us"),w.Sb())}var Ve=function(e,t){return{"text-highlight":e,"text-al-40":t}};function $e(e,t){if(1&e&&(w.Rb(0),w.Tb(1,"header"),w.Tb(2,"h1",4),w.Pc(3,"Verified"),w.Sb(),w.Sb(),w.Tb(4,"div",5),w.Nc(5,We,6,0,"ng-container",1),w.Nc(6,je,8,0,"ng-template",null,6,w.Oc),w.Tb(8,"mat-list"),w.Tb(9,"mat-list-item"),w.Tb(10,"mat-icon",7),w.Pc(11,"verified_user"),w.Sb(),w.Tb(12,"h3",8),w.Pc(13,"Verified Adspur Partner : "),w.Tb(14,"strong"),w.Pc(15),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Qb()),2&e){var a=w.zc(7),r=w.fc(2);w.Cb(5),w.mc("ngIf",r.eventParent.isVerified)("ngIfElse",a),w.Cb(5),w.mc("ngClass",w.tc(4,Ve,r.eventParent.isVerified,!r.eventParent.isVerified)),w.Cb(5),w.Qc(r.eventParent.isVerified?"Yes":"No")}}function Be(e,t){if(1&e&&(w.Rb(0),w.Nc(1,$e,16,7,"ng-container",3),w.Qb()),2&e){var a=w.fc();w.Cb(1),w.mc("ngIf",a.eventParent)}}var ze=[{path:"",component:m},{path:":eventParentID",component:x,children:[{path:"",redirectTo:"stats",pathMatch:"full"},{path:"details",component:X},{path:"administrators",component:Z},{path:"followers",component:te},{path:"ranking",component:ae},{path:"verified",component:function(){function e(e,t,a,r){this.route=e,this.router=t,this.eventParentService=a,this.userService=r,this.bShowPage=!1}return e.prototype.ngOnInit=function(){this.bShowPage=!1,this.loadData().subscribe()},e.prototype.loadData=function(){var e=this;return this.getUrlSlugs().flatMap((function(t){return Object(u.a)([e.eventParentService.getEventParents().map((function(e){return e.filter((function(e){return e.eventParentID===t.eventParentID}))[0]}))])})).map((function(t){return e.bShowPage=!0,e.eventParent=t[0],!0}))},e.prototype.getUrlSlugs=function(){return this.route.parent.params.map((function(e){return{eventParentID:parseInt(e.eventParentID)}}))},e.\u0275fac=function(t){return new(t||e)(w.Nb(p.a),w.Nb(p.c),w.Nb(d.a),w.Nb(L.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-verified"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[4,"ngIf"],[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"],["notVerified",""],["aria-hidden","true","matListIcon","","matTooltip","Verified Adspur partner",3,"ngClass"],["matLine",""],[1,"mat-display-0","mat-type","text-highlight"],["routerLink","./contact",1,"text-link"]],template:function(e,t){if(1&e&&(w.Nc(0,Qe,1,3,"ng-template",null,0,w.Oc),w.Nc(2,Be,2,1,"ng-container",1)),2&e){var a=w.zc(1);w.Cb(2),w.mc("ngIf",t.bShowPage)("ngIfElse",a)}},directives:[r.n,F.c,C.a,C.c,y.a,C.b,_e.b,r.l,Ge.a,I.l,p.f],styles:[""],encapsulation:2}),e}()},{path:"regions",component:ve},{path:"sectors",component:Re},{path:"stats",component:Le},{path:"news",component:function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w.Hb({type:e,selectors:[["app-awardshow-news"]],decls:4,vars:0,consts:[[1,"mat-display-0","mat-type"],[1,"g-page-width","g-page-width--narrow"]],template:function(e,t){1&e&&(w.Tb(0,"header"),w.Tb(1,"h1",0),w.Pc(2,"News"),w.Sb(),w.Sb(),w.Ob(3,"div",1))},styles:[""]}),e}()},{path:"manage-events",component:Me},{path:"e",loadChildren:"./awardshow-index/awardshow-profile/awardshow-event/awardshow-event.module#AwardshowEventModule"}]}],He=function(){function e(){}return e.\u0275mod=w.Lb({type:e}),e.\u0275inj=w.Kb({factory:function(t){return new(t||e)},imports:[[p.g.forChild(ze)],p.g]}),e}(),qe=function(){function e(){}return e.\u0275mod=w.Lb({type:e}),e.\u0275inj=w.Kb({factory:function(t){return new(t||e)},imports:[[r.c,n.l,n.v,o.d,c.a,i.a,He,s.a]]}),e}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{ibQw:function(e,t,r){"use strict";r.r(t),r.d(t,"PasswordResetModule",(function(){return A}));var o,s=r("ofXK"),n=r("W+Bs"),a=r("jAig"),i=r("3Pt+"),c=r("tyNb"),u=r("2qRN"),b=r("pjp9"),p=r("q6Au"),l=r("fXoL"),m=r("jhN1"),d=r("bTqV"),f=r("Qu3c"),w=r("NFeN"),h=r("Xa2L"),g=r("XiUz"),P=r("kmnG"),S=r("qFsG"),y=r("znSr"),F=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function C(e,t){if(1&e&&(l.Rb(0),l.Ob(1,"mat-spinner",6),l.Qb()),2&e){var r=l.fc();l.Cb(1),l.mc("color",r.accent)("strokeWidth",2)("diameter",80)}}function T(e,t){1&e&&(l.Tb(0,"mat-error"),l.Pc(1," A new password is "),l.Tb(2,"strong"),l.Pc(3,"required"),l.Sb(),l.Sb())}var v=function(e,t){return{"text-warn":e,"text-success":t}};function I(e,t){if(1&e){var r=l.Ub();l.Rb(0),l.Tb(1,"p",7),l.Pc(2,"For "),l.Tb(3,"strong"),l.Pc(4),l.Sb(),l.Sb(),l.Tb(5,"form",8),l.bc("ngSubmit",(function(){return l.Cc(r),l.fc().setPassword()})),l.Tb(6,"mat-form-field",9),l.Tb(7,"mat-label"),l.Pc(8,"New Password"),l.Sb(),l.Ob(9,"input",10),l.Tb(10,"mat-icon",11),l.bc("click",(function(){l.Cc(r);var e=l.fc();return e.hideNew=!e.hideNew})),l.Pc(11),l.Sb(),l.Tb(12,"mat-hint"),l.Tb(13,"span",12),l.Pc(14," Must contain a "),l.Tb(15,"strong"),l.Pc(16,"number"),l.Sb(),l.Pc(17,", "),l.Tb(18,"strong"),l.Pc(19,"upper"),l.Sb(),l.Pc(20," and "),l.Tb(21,"strong"),l.Pc(22,"lowercase"),l.Sb(),l.Pc(23," letter "),l.Sb(),l.Ob(24,"br"),l.Tb(25,"span",12),l.Pc(26," Must be least "),l.Tb(27,"strong"),l.Pc(28,"8 characters"),l.Sb(),l.Pc(29," long "),l.Sb(),l.Sb(),l.Nc(30,T,4,0,"mat-error",5),l.Sb(),l.Tb(31,"button",13),l.Pc(32," Change Password "),l.Sb(),l.Sb(),l.Qb()}if(2&e){var o=l.fc();l.Cb(4),l.Qc(o.userName),l.Cb(1),l.mc("formGroup",o.passwordFormGroup),l.Cb(4),l.mc("type",o.hideNew?"password":"text")("errorStateMatcher",o.matcher),l.Cb(2),l.Qc(o.hideNew?"visibility":"visibility_off"),l.Cb(2),l.mc("ngClass",l.tc(9,v,o.passwordFormGroup.get("newPasswordFormControl").touched&&o.passwordFormGroup.get("newPasswordFormControl").hasError("pattern"),o.passwordFormGroup.get("newPasswordFormControl").value.length>0&&o.passwordFormGroup.get("newPasswordFormControl").dirty&&!o.passwordFormGroup.get("newPasswordFormControl").hasError("pattern"))),l.Cb(12),l.mc("ngClass",l.tc(12,v,o.passwordFormGroup.get("newPasswordFormControl").touched&&o.passwordFormGroup.get("newPasswordFormControl").hasError("minlength"),o.passwordFormGroup.get("newPasswordFormControl").value.length>0&&o.passwordFormGroup.get("newPasswordFormControl").dirty&&!o.passwordFormGroup.get("newPasswordFormControl").hasError("minlength"))),l.Cb(5),l.mc("ngIf",o.passwordFormGroup.get("newPasswordFormControl").hasError("required")),l.Cb(1),l.mc("disabled",o.isDisabled())}}function N(e,t){1&e&&(l.Rb(0),l.Tb(1,"p",7),l.Pc(2,"Your password has been successfully changed."),l.Sb(),l.Tb(3,"button",14),l.Pc(4," Return To Login "),l.Sb(),l.Qb())}function U(e,t){1&e&&(l.Rb(0),l.Tb(1,"p",7),l.Pc(2,"The password reset link you used did not match any reset request in the system. Please try the reset link we sent you in the email again. If the problem persists, please contact "),l.Tb(3,"a",15),l.Pc(4,"support@adspur.com"),l.Sb(),l.Sb(),l.Tb(5,"button",14),l.Pc(6," Return To Login "),l.Sb(),l.Qb())}var q=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))},e}(),R=function(e){function t(t,r,o,s,n,a){var i=e.call(this,a)||this;return i.fb=t,i.router=r,i.route=o,i.userService=s,i.title=n,i.fullpageService=a,i.matcher=new q,i.hideNew=!0,i.bShowForm=!1,i.bShowSuccess=!1,i.bShowFail=!1,i.bShowProgress=!0,i.userName="",i.resetUUID=null,i.userUUID=null,n.setTitle("Reset Password - Adspur"),i.createForm(),i}return F(t,e),t.prototype.onKeydownHandler=function(e){this.router.navigate(["/home"])},t.prototype.createForm=function(){this.passwordFormGroup=this.fb.group({newPasswordFormControl:new i.g("",[i.x.required,i.x.minLength(8),i.x.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,30}$/)])})},t.prototype.ngOnInit=function(){var e=this;this.resetUUID=this.route.snapshot.paramMap.get("resetUUID"),this.userUUID=this.route.snapshot.paramMap.get("userUUID"),this.resetUUID&&this.userUUID?this.userService.getUserNameByResetUUID({resetUUID:this.resetUUID,userUUID:this.userUUID}).subscribe((function(t){e.userName=t.username,e.bShowProgress=!1,e.bShowForm=!0}),(function(t){e.bShowProgress=!1,e.bShowFail=!0})):(this.bShowProgress=!1,this.bShowFail=!0)},t.prototype.setPassword=function(){var e=this;this.bShowForm=!1,this.bShowProgress=!0,this.userService.resetPassword({resetUUID:this.resetUUID,userUUID:this.userUUID,newPassword:this.passwordFormGroup.get("newPasswordFormControl").value}).subscribe((function(t){e.bShowProgress=!1,e.bShowSuccess=!0}),(function(t){e.bShowProgress=!1,e.bShowFail=!0}))},t.prototype.isDisabled=function(){return"VALID"!==this.passwordFormGroup.get("newPasswordFormControl").status},t.\u0275fac=function(e){return new(e||t)(l.Nb(i.f),l.Nb(c.c),l.Nb(c.a),l.Nb(u.a),l.Nb(m.e),l.Nb(b.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-password-reset"]],hostBindings:function(e,t){1&e&&l.bc("keydown.escape",(function(e){return t.onKeydownHandler(e)}),!1,l.Bc)},features:[l.zb],decls:11,vars:4,consts:[[1,"fullscreen_header","text-center"],[1,"mat-display-0","mat-type"],["mat-icon-button","","routerLink","/home","aria-label","Cancel","matTooltip","Cancel",1,"fullscreen_close"],["aria-hidden","true"],[1,"g-page-width","g-page-width--v-narrow"],[4,"ngIf"],[3,"color","strokeWidth","diameter"],[1,"mat-body-1"],["fxLayout","column",3,"formGroup","ngSubmit"],["appearance","outline",1,"animate-cascade-block","new-password-field"],["matInput","","autocomplete","new-password","autocorrect","off","spellcheck","false","autocapitalize","none","aria-label","New Password","formControlName","newPasswordFormControl",3,"type","errorStateMatcher"],["matSuffix","","aria-label","Show password",3,"click"],[3,"ngClass"],["mat-flat-button","","color","accent",1,"mat-button--lg",3,"disabled"],["mat-stroked-button","","routerLink","/login",1,"mat-button--lg",2,"width","100%"],["href","mailto:support@adspur.com",1,"text-link"]],template:function(e,t){1&e&&(l.Tb(0,"header",0),l.Tb(1,"h1",1),l.Pc(2,"Password Reset"),l.Sb(),l.Sb(),l.Tb(3,"button",2),l.Tb(4,"mat-icon",3),l.Pc(5,"close"),l.Sb(),l.Sb(),l.Tb(6,"section",4),l.Nc(7,C,2,3,"ng-container",5),l.Nc(8,I,33,15,"ng-container",5),l.Nc(9,N,5,0,"ng-container",5),l.Nc(10,U,7,0,"ng-container",5),l.Sb()),2&e&&(l.Cb(7),l.mc("ngIf",t.bShowProgress),l.Cb(1),l.mc("ngIf",t.bShowForm),l.Cb(1),l.mc("ngIf",t.bShowSuccess),l.Cb(1),l.mc("ngIf",t.bShowFail))},directives:[d.b,c.d,f.b,w.a,s.n,h.c,i.y,i.r,g.e,i.j,P.c,P.g,S.b,i.c,i.q,i.i,P.i,P.f,s.l,y.a,P.b],styles:["app-password-reset{display:block;padding-top:56px;padding-bottom:112px}app-password-reset .g-page-width{padding-left:16px;padding-right:16px}app-password-reset form{padding-top:8px}"],encapsulation:2}),t}(p.a),k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),G=["email"];function x(e,t){1&e&&(l.Tb(0,"mat-error"),l.Pc(1," Please enter a valid email address "),l.Sb())}function D(e,t){1&e&&(l.Tb(0,"mat-error"),l.Pc(1," Email is "),l.Tb(2,"strong"),l.Pc(3,"required"),l.Sb(),l.Sb())}function _(e,t){if(1&e){var r=l.Ub();l.Rb(0),l.Tb(1,"p",7),l.Pc(2,"Enter your email address and we will send you a link to reset your password"),l.Sb(),l.Tb(3,"form",8),l.bc("ngSubmit",(function(){return l.Cc(r),l.fc().requestPasswordReset()})),l.Tb(4,"mat-form-field",9),l.Tb(5,"mat-label"),l.Pc(6,"Email"),l.Sb(),l.Ob(7,"input",10,11),l.Nc(9,x,2,0,"mat-error",12),l.Nc(10,D,4,0,"mat-error",12),l.Sb(),l.Tb(11,"button",13),l.Pc(12," Send Password Reset "),l.Sb(),l.Sb(),l.Qb()}if(2&e){var o=l.fc();l.Cb(3),l.mc("formGroup",o.requestPasswordResetFormGroup),l.Cb(4),l.mc("errorStateMatcher",o.matcher),l.Cb(2),l.mc("ngIf",o.requestPasswordResetFormGroup.get("emailFormControl").touched&&o.requestPasswordResetFormGroup.get("emailFormControl").hasError("email")),l.Cb(1),l.mc("ngIf",o.requestPasswordResetFormGroup.get("emailFormControl").touched&&o.requestPasswordResetFormGroup.get("emailFormControl").hasError("required")),l.Cb(1),l.mc("disabled",o.isDisabled())}}function E(e,t){1&e&&(l.Tb(0,"p",7),l.Pc(1,"Please check your email for a link to reset your password. If it doesn\u2019t appear within a few minutes, check your spam folder. If you did not receive an email, please register using the "),l.Tb(2,"a",14),l.Pc(3,"Sign Up"),l.Sb(),l.Pc(4," page."),l.Sb(),l.Tb(5,"a",15),l.Pc(6," Return To Login "),l.Sb())}var L=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))},e}(),O=[{path:"",component:R,data:{animation:"PasswordResetPage"}},{path:"request",component:function(e){function t(t,r,o,s,n){var a=e.call(this,n)||this;return a.fb=t,a.router=r,a.title=o,a.userService=s,a.fullpageService=n,a.matcher=new L,a.bShowSuccess=!1,o.setTitle("Request Password Reset - Adspur"),a.createForm(),a}return k(t,e),Object.defineProperty(t.prototype,"userName",{set:function(e){this.emailElRef=e},enumerable:!1,configurable:!0}),t.prototype.createForm=function(){var e=this;this.bShowSuccess=!1,this.requestPasswordResetFormGroup=this.fb.group({emailFormControl:new i.g("",[i.x.required,i.x.email])}),setTimeout((function(){e.emailElRef.nativeElement.focus()}))},t.prototype.onKeydownHandler=function(e){this.router.navigate(["/home"])},t.prototype.ngOnInit=function(){},t.prototype.requestPasswordReset=function(){var e=this;this.userService.requestPasswordReset({emailAddress:this.requestPasswordResetFormGroup.get("emailFormControl").value}).subscribe((function(t){e.bShowSuccess=!0}))},t.prototype.isDisabled=function(){return"VALID"!==this.requestPasswordResetFormGroup.get("emailFormControl").status},t.\u0275fac=function(e){return new(e||t)(l.Nb(i.f),l.Nb(c.c),l.Nb(m.e),l.Nb(u.a),l.Nb(b.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-request-reset"]],viewQuery:function(e,t){var r;1&e&&l.Uc(G,!0),2&e&&l.yc(r=l.cc())&&(t.userName=r.first)},hostBindings:function(e,t){1&e&&l.bc("keydown.escape",(function(e){return t.onKeydownHandler(e)}),!1,l.Bc)},features:[l.zb],decls:10,vars:2,consts:[[1,"fullscreen_header","text-center"],[1,"mat-display-0","mat-type"],["mat-icon-button","","routerLink","/home","aria-label","Cancel","matTooltip","Cancel",1,"fullscreen_close"],["aria-hidden","true"],[1,"g-page-width","g-page-width--v-narrow"],[4,"ngIf","ngIfElse"],["success",""],[1,"mat-body-1"],["fxLayout","column",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","email","aria-label","Enter your email","autocomplete","username email","cdkFocusInitial","","formControlName","emailFormControl",3,"errorStateMatcher"],["email",""],[4,"ngIf"],["mat-flat-button","","color","accent",1,"mat-button--lg",3,"disabled"],["routerLink","/signup",1,"text-link"],["mat-stroked-button","","routerLink","/login",1,"mat-button--lg",2,"width","100%"]],template:function(e,t){if(1&e&&(l.Tb(0,"header",0),l.Tb(1,"h1",1),l.Pc(2,"Password Reset"),l.Sb(),l.Sb(),l.Tb(3,"button",2),l.Tb(4,"mat-icon",3),l.Pc(5,"close"),l.Sb(),l.Sb(),l.Tb(6,"section",4),l.Nc(7,_,13,5,"ng-container",5),l.Nc(8,E,7,0,"ng-template",null,6,l.Oc),l.Sb()),2&e){var r=l.zc(9);l.Cb(7),l.mc("ngIf",!t.bShowSuccess)("ngIfElse",r)}},directives:[d.b,c.d,f.b,w.a,s.n,i.y,i.r,g.e,i.j,P.c,P.g,S.b,i.c,i.q,i.i,P.b,c.f,d.a],styles:["app-request-reset{display:block;padding-top:56px;padding-bottom:112px}app-request-reset .g-page-width{padding-left:16px;padding-right:16px}app-request-reset form{padding-top:8px}app-request-reset .mat-flat-button,app-request-reset .mat-stroked-button{margin-top:16px}"],encapsulation:2}),t}(p.a),data:{animation:"PasswordResetRequestPage"}}],j=function(){function e(){}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(O)],c.g]}),e}(),A=function(){function e(){}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[s.c,n.a,a.a,i.v,j]]}),e}()}}]);
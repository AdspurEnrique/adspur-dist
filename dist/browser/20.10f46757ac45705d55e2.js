(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{O51e:function(t,e,a){"use strict";a.r(e),a.d(e,"reducers",(function(){return pe})),a.d(e,"CalendarModule",(function(){return ue}));var n=a("ofXK"),i=a("tyNb"),r=a("3Pt+"),o=a("jAig"),c=a("4TA+"),s=a("wd/R"),l=a("LRne"),d=a("EY2u"),b=a("f3AP"),p=a("9Ku7"),u=a("50zb"),h=a("TL0x"),f=a("2qRN"),g=a("KC4R"),m=a("lhdw"),y=a("j6Te"),v=a("/7SX"),D=a("lJxs"),S=a("fXoL"),w=a("jhN1"),x=a("l7P3"),T=a("XiUz"),C=a("znSr"),P=a("kmnG"),k=a("qFsG"),O=a("iadO"),E=a("bTqV"),N=a("Qu3c"),F=a("wZkO"),I=a("NFeN"),L=a("d3UM"),_=a("MutI"),M=a("1jcm"),j=a("f0Cb"),U=a("FKr1");function A(t,e){if(1&t&&(S.Tb(0,"div"),S.Tb(1,"a",15),S.Tb(2,"mat-icon",16),S.Pc(3,"keyboard_arrow_left"),S.Sb(),S.Sb(),S.Tb(4,"a",15),S.Tb(5,"mat-icon",16),S.Pc(6,"keyboard_arrow_right"),S.Sb(),S.Sb(),S.Sb()),2&t){var a=S.fc();S.Cb(1),S.nc("routerLink",a.prevRouterLink),S.Cb(3),S.nc("routerLink",a.nextRouterLink)}}function R(t,e){if(1&t){var a=S.Ub();S.Tb(0,"mat-option",28),S.bc("onSelectionChange",(function(t){return S.Cc(a),S.fc(2).getValues(t)})),S.Pc(1),S.Ob(2,"span",29),S.Sb()}if(2&t){var n=e.$implicit;S.mc("value",n),S.Cb(1),S.Rc("",n.eventDateTypeName," "),S.Cb(1),S.Kc("background-color",n.eventDateTypeBackgroundColour)}}function z(t,e){if(1&t){var a=S.Ub();S.Tb(0,"div",30),S.Tb(1,"div",31),S.Tb(2,"div",32),S.Pc(3," Dates "),S.Sb(),S.Tb(4,"div",33),S.Tb(5,"mat-icon",34),S.bc("click",(function(t){S.Cc(a);var e=S.fc(2);return t.stopPropagation(),e.clearSelection()})),S.Pc(6,"cancel"),S.Sb(),S.Sb(),S.Sb(),S.Sb()}}function V(t,e){1&t&&(S.Tb(0,"div",35),S.Tb(1,"div",36),S.Tb(2,"div",37),S.Pc(3," Dates "),S.Sb(),S.Tb(4,"div",33),S.Tb(5,"mat-icon",38),S.Pc(6,"arrow_drop_down"),S.Sb(),S.Sb(),S.Sb(),S.Sb())}var $=function(t,e){return{"filter--is-open":t,"filter--is-selected":e}};function G(t,e){if(1&t){var a=S.Ub();S.Tb(0,"div"),S.Tb(1,"mat-form-field",17),S.Tb(2,"mat-select",18,19),S.Ob(4,"mat-select-trigger"),S.Tb(5,"mat-list",20),S.Tb(6,"mat-list-item"),S.Tb(7,"div",21),S.Tb(8,"div",22),S.Pc(9," Dates "),S.Sb(),S.Tb(10,"div",22),S.Tb(11,"mat-icon",23),S.bc("click",(function(){return S.Cc(a),S.zc(3).close()})),S.Pc(12,"cancel"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(13,"mat-list-item"),S.Tb(14,"div",21),S.Tb(15,"div",22),S.Pc(16," Select all Dates "),S.Sb(),S.Tb(17,"div",22),S.Tb(18,"mat-slide-toggle",24),S.bc("change",(function(){return S.Cc(a),S.fc().onToggle()})),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Ob(19,"mat-divider"),S.Nc(20,R,3,4,"mat-option",25),S.Sb(),S.Nc(21,z,7,0,"div",26),S.Nc(22,V,7,0,"div",27),S.Sb(),S.Sb()}if(2&t){var n=S.fc();S.Cb(2),S.mc("formControl",n.types)("ngClass",S.tc(6,$,n.filterArrow,n.filterArrow||n.showFilterAction)),S.Cb(16),S.mc("formControl",n.chooseAll),S.Cb(2),S.mc("ngForOf",n.typeList),S.Cb(1),S.mc("ngIf",n.showFilterAction),S.Cb(1),S.mc("ngIf",!n.showFilterAction)}}function B(t,e){if(1&t&&(S.Tb(0,"a",39,40),S.Pc(2),S.Sb()),2&t){var a=e.$implicit,n=S.zc(1);S.oc("routerLink","./",a.slug,""),S.mc("active",n.isActive),S.Cb(2),S.Rc(" ",a.title," ")}}function Y(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"div",41),S.Ob(2,"router-outlet",null,42),S.Sb(),S.Qb()),2&t){var a=S.zc(3),n=S.fc();S.Cb(1),S.mc("@tabAnimations",n.prepareRoute(a)||"CalendarDayPage")}}function Q(t,e){1&t&&(S.Tb(0,"div",43),S.Ob(1,"br"),S.Ob(2,"br"),S.Tb(3,"h3",44),S.Pc(4,"Calendar is for Subscribed users"),S.Sb(),S.Tb(5,"p",45),S.Tb(6,"a",46),S.Pc(7,"Login"),S.Sb(),S.Pc(8," or "),S.Tb(9,"a",47),S.Pc(10,"Sign Up"),S.Sb(),S.Sb(),S.Sb())}var H=function(){return{"padding-left":"16px"}},X=function(){function t(t,e,a,n,i,o,c,s,l,d){var b=this;this.calendarService=t,this.fb=e,this.route=a,this.router=n,this.title=i,this.utilityService=o,this.authenticationService=c,this.eventDateService=s,this.userService=l,this.store=d,this.aViews=u.b,this.activeLink=this.aViews[0].slug,this.types=new r.g,this.filterList=[],this.typeList=[],this.filterArrow=!0,this.chooseAll=new r.g,this.showFilterAction=!1,i.setTitle("Awards Calendar - Adspur"),this.authStatus=this.authenticationService.authStatus$.map((function(t){return b.user=t.hasOwnProperty("status")&&t.status?t.user:void 0})).subscribe()}return t.prototype.ngOnInit=function(){var t=this;this.todaysDate=this.utilityService.createJSDate(),this.eventDateService.getEventDateRange().subscribe((function(e){t.pickerMaxDate=t.utilityService.createJSDate(e.endDate),t.pickerMinDate=t.utilityService.createJSDate(e.startDate)})),this.authenticationService.isLoggedIn()&&(this.user=this.authenticationService.currentUserValue),Object(l.a)(this.router.url).switchMap((function(e){return t.setCurrentView(e)})).subscribe(),this.router.events.switchMap((function(t){return t instanceof i.b?Object(l.a)(t):d.a})).switchMap((function(e){return t.setCurrentView(e.url)})).subscribe(),this.calendarDateGroup=this.fb.group({calendarDateControl:new r.g}),this.store.select("typesDates").subscribe((function(e){var a=e.typesDates,n=e.originalTypesDates;t.typeList=Object.assign([],n),t.maxTypes=n.length,a.length===n.length?(t.filterList=Object.assign([],t.typeList),t.types.setValue(n),t.filterArrow=!1,t.showFilterAction=!1,t.chooseAll.setValue(!0)):(t.chooseAll.setValue(!1),t.filterList=Object.assign([],a),t.types.setValue(a),0===t.filterList.length?t.filterArrow=!0:t.filterArrow&&t.filterList.length>0&&(t.filterArrow=!1),a.length!==t.maxTypes&&(t.showFilterAction=!0)),t.store.dispatch(Object(v.h)({payload:t.filterList,quantity:t.maxTypes})),t.store.dispatch(Object(m.h)({payload:t.filterList,quantity:t.maxTypes})),t.store.dispatch(Object(v.b)())})),this.calendarDateGroup.get("calendarDateControl").valueChanges.subscribe((function(e){if(e){var a="/calendar/"+t.currentView.slug+"/"+e.getFullYear()+"/"+(e.getMonth()+1)+("day"===t.currentView.slug?"/"+e.getDate():"");t.router.navigate([a]),t.store.select("eventDate").pipe(Object(D.a)((function(t){return t}))).subscribe((function(n){n.dates.find((function(t){return s(t.key).isSame(a)}))||t.store.dispatch(Object(m.d)({payload:{year:""+e.getFullYear(),month:""+(e.getMonth()+1),date:""+e.getDate()}}))}))}}))},t.prototype.ngOnDestroy=function(){this.authStatus.unsubscribe()},t.prototype.setCurrentView=function(t){var e=this;return Object(l.a)(t).map((function(t){return e.currentView=e.aViews.filter((function(e){return t.split("/").filter((function(t){return t===e.slug})).length})).length?e.aViews.filter((function(e){return t.split("/").filter((function(t){return t===e.slug})).length}))[0]:e.aViews[0],e.currentView})).switchMap((function(){return e.setCurrentDate()}))},t.prototype.setCurrentDate=function(){var t=this;return this.getUrlSlugs().map((function(e){t.currentDate=t.utilityService.createUTCDate(e&&e.year?new Date(Date.UTC(parseInt(e.year),parseInt(e.month)-1,e.date?parseInt(e.date):15,0,0,0,0)):new Date(Date.UTC(t.todaysDate.getFullYear(),t.todaysDate.getMonth(),t.todaysDate.getDate(),0,0,0,0)));var a=s(t.currentDate).add(1,"day"===t.currentView.slug?"days":"months")._d,n=s(t.currentDate).add(-1,"day"===t.currentView.slug?"days":"months")._d;return t.nextRouterLink="/calendar/"+t.currentView.slug+"/"+a.getFullYear()+"/"+(a.getMonth()+1)+("day"===t.currentView.slug?"/"+a.getDate():""),t.prevRouterLink="/calendar/"+t.currentView.slug+"/"+n.getFullYear()+"/"+(n.getMonth()+1)+("day"===t.currentView.slug?"/"+n.getDate():""),t.currentDate}))},t.prototype.getUrlSlugs=function(){return this.route.firstChild.params.map((function(t){return t}))},t.prototype.prepareRoute=function(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation},t.prototype.getValues=function(t){if(t.isUserInput){var e=Object.assign([],this.filterList);if(!0===t.source.selected)e.push(t.source.value),this.store.dispatch(Object(y.e)({payload:e}));else{var a=e.filter((function(e){return e.eventDateTypeID!==t.source.value.eventDateTypeID}));this.filterList=Object.assign([],a),this.store.dispatch(Object(y.e)({payload:a}))}}},t.prototype.onToggle=function(){this.store.dispatch(this.chooseAll.value?Object(y.b)():Object(y.e)({payload:[]})),this.store.dispatch(Object(y.c)({payload:this.chooseAll.value}))},t.prototype.clearSelection=function(){this.chooseAll.setValue(!0),this.onToggle()},t.\u0275fac=function(e){return new(e||t)(S.Nb(u.a),S.Nb(r.f),S.Nb(i.a),S.Nb(i.c),S.Nb(w.e),S.Nb(g.a),S.Nb(p.a),S.Nb(h.a),S.Nb(f.a),S.Nb(x.h))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-calendar"]],hostVars:1,hostBindings:function(t,e){2&t&&S.Mc("@tabAnimations",void 0)},decls:22,vars:21,consts:[["fxLayout","row wrap","fxLayout.gt-sm","row","fxLayoutGap","16px","fxLayoutGap.gt-sm","24px","fxLayoutAlign","start center",1,"calendar-header","animate-cascade-block"],["fxItem","noshrink","fxLayout","row","fxLayoutGap","16px","fxLayoutGap.gt-sm","24px","fxLayoutAlign","start center",3,"formGroup","ngStyle.lt-md"],[1,"mat-input-striped","mat-form-field--datepicker"],["matInput","","hidden","","formControlName","calendarDateControl",3,"matDatepicker","min","max"],[3,"for"],["picker",""],[1,"mat-form-field--today"],["mat-stroked-button","",3,"routerLink","matTooltip"],[4,"ngIf"],[1,"mat-type","mat-display-0",3,"click"],["fxFlex","","fxHide.lt-sm",""],["fxFlex","grow","fxFlex.gt-sm","none","mat-tab-nav-bar","","mat-stretch-tabs","","color","accent",1,"mat-elevation-z0"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noAccess",""],["mat-icon-button","",3,"routerLink"],["aria-hidden","true"],["floatLabel","never","fxFlex","",1,"mat-input-striped",2,"width","100px"],["multiple","",1,"attribute-filter_button",3,"formControl","ngClass"],["sl",""],[2,"width","100%"],["layout","row",2,"width","100%"],[2,"width","50%","display","inline-block","vertical-align","middle"],["aria-hidden","true",2,"float","right","padding-right","5%","cursor","pointer",3,"click"],[2,"height","100%","float","right","padding-right","5%",3,"formControl","change"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["style","position: absolute; bottom: 20%; width: 100%;",4,"ngIf"],["class","select-component","style","position: absolute; bottom: 20%; width: 100%;",4,"ngIf"],[3,"value","onSelectionChange"],[1,"box"],[2,"position","absolute","bottom","20%","width","100%"],["layout","row",2,"width","100%","color","white"],[2,"width","50%","display","inline-block","vertical-align","middle","text-align","center","font-size","12pt","padding","4px 0 4px 10px"],[2,"width","35%","display","inline-block","vertical-align","middle"],["aria-hidden","true",2,"float","right","padding-right","10%",3,"click"],[1,"select-component",2,"position","absolute","bottom","20%","width","100%"],["layout","row",2,"width","100%","color","black"],[1,"dates-label",2,"width","50%","display","inline-block","vertical-align","middle","text-align","center","font-size","12pt","padding","4px 0 4px 10px"],["aria-hidden","true",2,"float","right","padding-right","10%"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"],[1,"app-calendar_outlet"],["outlet","outlet"],[1,"app-calendar_outlet","text-center"],[1,"mat-type","text-background","mat-display-0"],[1,"mat-body-1"],["routerLink","/login",1,"text-link"],["routerLink","/signup",1,"text-link"]],template:function(t,e){if(1&t){var a=S.Ub();S.Tb(0,"header",0),S.Tb(1,"form",1),S.Tb(2,"mat-form-field",2),S.Ob(3,"input",3),S.Ob(4,"mat-datepicker-toggle",4),S.Ob(5,"mat-datepicker",null,5),S.Sb(),S.Tb(7,"div",6),S.Tb(8,"a",7),S.gc(9,"date"),S.Pc(10," Today "),S.Sb(),S.Sb(),S.Sb(),S.Nc(11,A,7,2,"div",8),S.Tb(12,"h1",9),S.bc("click",(function(){return S.Cc(a),S.zc(6).open()})),S.Pc(13),S.gc(14,"date"),S.Sb(),S.Nc(15,G,23,9,"div",8),S.Ob(16,"span",10),S.Tb(17,"nav",11),S.Nc(18,B,3,3,"a",12),S.Sb(),S.Sb(),S.Nc(19,Y,4,1,"ng-container",13),S.Nc(20,Q,11,0,"ng-template",null,14,S.Oc)}if(2&t){var n=S.zc(6),i=S.zc(21);S.Cb(1),S.mc("formGroup",e.calendarDateGroup)("ngStyle.lt-md",S.rc(20,H)),S.Cb(2),S.mc("matDatepicker",n)("min",e.pickerMinDate)("max",e.pickerMaxDate),S.Cb(1),S.mc("for",n),S.Cb(4),S.oc("routerLink","/calendar/",e.currentView.slug,""),S.nc("matTooltip",S.ic(9,14,e.todaysDate,"EEEE, MMMM d")),S.Cb(3),S.mc("ngIf",e.currentView&&e.currentDate),S.Cb(2),S.Rc(" ",S.ic(14,17,e.currentDate,"MMMM yyyy")," "),S.Cb(2),S.mc("ngIf",e.user),S.Cb(3),S.mc("ngForOf",e.aViews),S.Cb(1),S.mc("ngIf",e.user&&!e.user.isBasicSubscriptionUser)("ngIfElse",i)}},directives:[T.e,T.f,T.d,r.y,r.r,r.j,C.c,P.c,k.b,r.c,O.b,r.q,r.i,O.d,O.a,E.a,i.f,N.b,n.n,T.b,C.b,F.e,n.m,I.a,L.a,r.h,n.l,C.a,L.c,_.a,_.c,M.a,j.a,U.p,F.d,i.e,i.h],pipes:[n.e],styles:["app-calendar{display:block;height:100%}app-calendar .calendar-header{padding:16px 0 0}@media (min-width:959px){app-calendar .calendar-header{padding-left:16px}}app-calendar .calendar-header .mat-form-field--datepicker .mat-form-field-infix{width:auto;border-top:0;padding-bottom:0}app-calendar .calendar-header .mat-display-0{margin-bottom:0;min-width:75px;font-size:18px}@media (min-width:959px){app-calendar .calendar-header .mat-display-0{font-size:24px}}app-calendar .calendar-header .mat-tab-link{min-width:100px}app-calendar .attribute-filter_button{padding:10px 14px;margin:2px;font-weight:400;display:-webkit-inline-box;display:inline-flex;border-radius:24px;-webkit-box-align:center;align-items:center;font-size:13px;background-color:#fff;color:rgba(0,0,0,.87);max-width:70px;-webkit-transition:background-color .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:background-color .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),background-color .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),background-color .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1)}app-calendar .attribute-filter_button:focus,app-calendar .attribute-filter_button:hover{background-color:#e0e0e0}app-calendar .attribute-filter_button.filter--is-open{-webkit-box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}app-calendar .attribute-filter_button.filter--is-selected{font-weight:500;background-color:#ff3d00;color:#fff;width:73px!important;height:12px;padding:10px 14px}app-calendar .attribute-filter_button .mat-icon{margin-right:-9px;margin-left:4px}app-calendar .attribute-filter_button .mat-select-value{overflow:visible!important}app-calendar .select-component:hover{background-color:#e0e0e0;border-radius:24px}app-calendar .mat-select-arrow{visibility:hidden}app-calendar .box{float:right;height:20px;width:20px;border-radius:50%;margin-top:4%;vertical-align:center}app-calendar mat-option.mat-active{background:none!important}.app-calendar_outlet{display:block;overflow-y:scroll}@media (min-width:959px){.app-calendar_outlet{padding-top:16px}}.app-calendar_outlet .g-page-width{padding:0 16px;position:relative}app-timeline{display:block;margin-bottom:32px}app-timeline .app-timeline_date{margin-top:24px;position:sticky;top:24px;z-index:1;background:#fff}@media (max-width:959px){app-timeline .app-timeline_date{top:0;margin-top:0;width:100%}}@media (min-width:959px){app-timeline .date-block_details.date-block_2-col{margin-right:100px}}app-day{display:block;margin-top:24px;margin-bottom:56px}@media (max-width:959px){app-day .app-day_column:first-child,app-day .app-day_column:nth-child(3){display:none}}@media (max-width:959px){app-day .app-day_column{padding-top:32px}}app-day .app-day_column_title{margin-left:auto;margin-right:auto;border-radius:100px;width:40px;padding:5px;margin-bottom:11px}app-day li>.mat-button,app-month{width:100%}app-month{display:block;position:absolute;height:calc(100vh - 56px - 105px)}@media (min-width:959px){app-month{height:calc(100vh - 56px - 65px - 16px)}}"],encapsulation:2,data:{animation:[b.e]}}),t}(),J=a("Pu8i"),q=a("VgEc"),K=a("npzR"),W=a("Xa2L"),Z=a("otFx");function tt(t,e){if(1&t&&S.Ob(0,"mat-spinner",2),2&t){var a=S.fc();S.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function et(t,e){1&t&&S.Ob(0,"app-event-date-block",9),2&t&&S.mc("eventDate",e.$implicit)("eventParentLink",!0)}var at=function(){return{"font-size":"18px"}},nt=function(t){return{"text-highlight":t}};function it(t,e){if(1&t&&(S.Tb(0,"div",5),S.Tb(1,"h2",6),S.Pc(2),S.gc(3,"date"),S.Sb(),S.Tb(4,"div",7),S.Nc(5,et,1,2,"app-event-date-block",8),S.Sb(),S.Sb()),2&t){var a=e.$implicit;S.Cb(1),S.mc("ngStyle.lt-sm",S.rc(7,at))("ngClass",S.sc(8,nt,"Today"===a)),S.Cb(1),S.Rc(" ",S.ic(3,4,a.key,"MMM dd yyy")," "),S.Cb(3),S.mc("ngForOf",a.value)}}function rt(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"section",3),S.Nc(2,it,6,10,"div",4),S.Sb(),S.Qb()),2&t){var a=S.fc();S.Cb(2),S.mc("ngForOf",a.aEventDate)}}var ot=function(){function t(t,e,a,n,i,r){var o=this;this.authenticationService=t,this.calendarService=e,this.userService=a,this.filterByPipe=n,this.orderByPipe=i,this.groupByPipe=r,this.authenticationService.authStatus$.switchMap((function(t){return o.bShowPage=!1,o.resetEventDateData()})).subscribe()}return t.prototype.ngOnInit=function(){var t=this;this.bShowPage=!1,this.loadEventDateData(new Date((new Date).getFullYear()-2,(new Date).getMonth(),(new Date).getDate()),new Date).subscribe((function(e){t.aEventDate=e[0],t.aEventDateDiscover=e[1]}))},t.prototype.loadEventDateData=function(t,e){var a=this;return this.calendarService.getEventDatesFollowGrouped(t,e).map((function(t){return a.aEventDate=a.groupByPipe.transform(a.orderByPipe.transform(t[0],"startDate",!0),"startDate"),a.aEventDateDiscover=a.groupByPipe.transform(a.orderByPipe.transform(t[1],"startDate",!0),"startDate"),t}))},t.prototype.resetEventDateData=function(){return this.aEventDate=void 0,this.aEventDateDiscover=void 0,Object(l.a)(!0)},t.\u0275fac=function(e){return new(e||t)(S.Nb(p.a),S.Nb(u.a),S.Nb(f.a),S.Nb(J.a),S.Nb(q.a),S.Nb(K.a))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-timeline"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],[1,"g-page-width"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutAlign","center start","fxLayoutGap","4px",4,"ngFor","ngForOf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutAlign","center start","fxLayoutGap","4px"],["fxFlex.gt-sm","100px",1,"app-timeline_date","mat-type","mat-display-0",3,"ngStyle.lt-sm","ngClass"],["fxFlex","1 1"],[3,"eventDate","eventParentLink",4,"ngFor","ngForOf"],[3,"eventDate","eventParentLink"]],template:function(t,e){if(1&t&&(S.Nc(0,tt,1,3,"ng-template",null,0,S.Oc),S.Nc(2,rt,3,1,"ng-container",1)),2&t){var a=S.zc(1);S.Cb(2),S.mc("ngIf",e.bShowPage)("ngIfElse",a)}},directives:[n.n,W.c,n.m,T.e,T.d,T.f,T.b,C.c,n.l,C.a,Z.a],pipes:[n.e],styles:[""]}),t}(),ct=a("f0Wu"),st=a("8YY3"),lt=a("Eiv1");function dt(t,e){if(1&t&&S.Ob(0,"mat-spinner",2),2&t){var a=S.fc();S.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function bt(t,e){if(1&t&&(S.Tb(0,"li"),S.Ob(1,"app-event-date-row",14),S.Sb()),2&t){var a=e.$implicit;S.Cb(1),S.mc("eventDate",a)("showEventDetails",!0)}}function pt(t,e){1&t&&(S.Rb(0),S.Pc(1,"Discover"),S.Qb())}function ut(t,e){1&t&&S.Pc(0,"Hide")}function ht(t,e){if(1&t&&(S.Tb(0,"li"),S.Ob(1,"app-event-date-row",14),S.Sb()),2&t){var a=e.$implicit;S.Cb(1),S.mc("eventDate",a)("showEventDetails",!0)}}function ft(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"li"),S.Tb(2,"p",15),S.Pc(3,"Events you're not following"),S.Sb(),S.Sb(),S.Nc(4,ht,2,2,"li",10),S.Qb()),2&t){var a=S.fc().$implicit;S.Cb(4),S.mc("ngForOf",a.aEventDateDiscover)}}var gt=function(){return{"font-size":"18px"}},mt=function(t){return{"bg-highlight":t}};function yt(t,e){if(1&t){var a=S.Ub();S.Tb(0,"section",5),S.Tb(1,"div",6),S.Tb(2,"span",7),S.Pc(3),S.gc(4,"date"),S.Sb(),S.Tb(5,"h2",8),S.gc(6,"date"),S.gc(7,"date"),S.Pc(8),S.gc(9,"date"),S.Sb(),S.Sb(),S.Tb(10,"ul",9),S.Nc(11,bt,2,2,"li",10),S.Tb(12,"li"),S.Tb(13,"button",11),S.bc("click",(function(){S.Cc(a);var t=e.$implicit;return S.fc(2).toggleDiscover(t.key)})),S.Nc(14,pt,2,0,"ng-container",1),S.Nc(15,ut,1,0,"ng-template",null,12,S.Oc),S.Pc(17),S.Sb(),S.Sb(),S.Nc(18,ft,5,1,"ng-container",13),S.Sb(),S.Sb()}if(2&t){var n=e.$implicit,i=S.zc(16),r=S.fc(2);S.Cb(3),S.Qc(S.ic(4,10,n.key,"EEE")),S.Cb(2),S.mc("ngStyle.lt-sm",S.rc(22,gt))("ngClass",S.sc(23,mt,S.ic(6,13,n.key,"shortDate")===S.ic(7,16,r.todaysDate,"shortDate"))),S.Cb(3),S.Rc(" ",S.ic(9,19,n.key,"d")," "),S.Cb(3),S.mc("ngForOf",n.aEventDate),S.Cb(2),S.mc("disabled",0===n.aEventDateDiscover.length),S.Cb(1),S.mc("ngIf",!r.showDiscover(n.key))("ngIfElse",i),S.Cb(3),S.Rc(" ",n.aEventDateDiscover.length," Events "),S.Cb(1),S.mc("ngIf",r.showDiscover(n.key))}}var vt=function(){return{"padding-left":"16px","padding-right":"16px"}};function Dt(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"div",3),S.Nc(2,yt,19,25,"section",4),S.Sb(),S.Qb()),2&t){var a=S.fc();S.Cb(1),S.Jc(S.rc(3,vt)),S.Cb(1),S.mc("ngForOf",a.aEventDate)}}var St=function(){function t(t,e,a,n,i,r,o,c,s,d,b){var p=this;this.localStorageObj=t,this.authenticationService=e,this.calendarService=a,this.userService=n,this.filterByPipe=i,this.orderByPipe=r,this.groupByPipe=o,this.route=c,this.router=s,this.utilityService=d,this.store=b,this.bShowPage=!1,this.currentView="day",this.authenticationService.authStatus$.switchMap((function(t){return p.bShowPage=!1,p.resetEventDateData().switchMap((function(){return p.router.url.includes("/calendar/day")?Object(l.a)(p.loadData({})):Object(l.a)(void 0)}))})).subscribe()}return t.prototype.ngOnInit=function(){var t=this;this.todaysDate=this.utilityService.createUTCDate(new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0,0))),this.route.params.switchMap((function(){return t.getUrlSlugs()})).subscribe((function(e){t.loadData(e)}))},t.prototype.loadData=function(t){var e=this;this.showPage(!1),this.store.select("eventDate").pipe(Object(D.a)((function(t){return t}))).subscribe((function(a){var n=a.loadCalendarDayDiscover,i=a.toDay,r=a.dates,o=e.getCurrentDateByParam(t);if(ct(i.key).isSame(o))e.aEventDate=i.eventDateList,e.showPage(!0);else if(r.length){var c=r.find((function(t){return ct(t.key).isSame(o)}));c?(e.aEventDate=c.eventDateList,e.showPage(!0)):e.loadCalendarDay(t)}else e.loadCalendarDay(t);e.aCalendarDayDiscover=n||[]}))},t.prototype.loadCalendarDay=function(t){this.showPage(!1),this.store.dispatch(m.d({payload:t}))},t.prototype.showPage=function(t){this.bShowPage=t},t.prototype.resetEventDateData=function(){return this.aEventDate=void 0,this.aEventDateDiscover=void 0,Object(l.a)(!0)},t.prototype.toggleDiscover=function(t){var e=Object.assign([],this.aCalendarDayDiscover);this.aCalendarDayDiscover=this.calendarService.toggleDiscover(t,e,"day")},t.prototype.showDiscover=function(t){return this.calendarService.showDiscover(t,this.aCalendarDayDiscover)},t.prototype.getCurrentDateByParam=function(t){return this.utilityService.createUTCDate(t&&t.year?new Date(Date.UTC(parseInt(t.year),parseInt(t.month)-1,parseInt(t.date),0,0,0,0)):new Date(Date.UTC(this.todaysDate.getFullYear(),this.todaysDate.getMonth(),this.todaysDate.getDate(),0,0,0,0)))},t.prototype.getUrlSlugs=function(){return this.route.params.map((function(t){return t}))},t.\u0275fac=function(e){return new(e||t)(S.Nb(st.a),S.Nb(p.a),S.Nb(u.a),S.Nb(f.a),S.Nb(J.a),S.Nb(q.a),S.Nb(K.a),S.Nb(i.a),S.Nb(i.c),S.Nb(g.a),S.Nb(x.h))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-day"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],["fxLayout","row","fxLayoutGap.gt-sm","16px"],["class","app-day_column","fxFlex","100","fxFlex.gt-sm","33",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-sm","33",1,"app-day_column"],[1,"text-center"],[1,"mat-caption","text-al-54","text-uppercase"],[1,"app-day_column_title","mat-type","mat-display-0","animate-cascade-block",3,"ngStyle.lt-sm","ngClass"],[1,"blank-list"],[4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["hide",""],[4,"ngIf"],[3,"eventDate","showEventDetails"],[1,"mat-caption","text-al-54",2,"margin-bottom","16px"]],template:function(t,e){if(1&t&&(S.Nc(0,dt,1,3,"ng-template",null,0,S.Oc),S.Nc(2,Dt,3,4,"ng-container",1)),2&t){var a=S.zc(1);S.Cb(2),S.mc("ngIf",e.bShowPage)("ngIfElse",a)}},directives:[n.n,W.c,T.e,T.f,n.m,T.b,C.c,n.l,C.a,E.b,lt.a],pipes:[n.e],styles:[""],encapsulation:2}),t}(),wt=a("8t76"),xt=a("9jGm"),Tt=a("zkoq"),Ct=a("STbY");function Pt(t,e){if(1&t&&S.Ob(0,"mat-spinner",2),2&t){var a=S.fc();S.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function kt(t,e){if(1&t&&(S.Tb(0,"mat-grid-tile",9),S.Tb(1,"span",10),S.Pc(2,"{{day.full}"),S.Sb(),S.Tb(3,"h3",11),S.Pc(4),S.Tb(5,"span",12),S.Pc(6),S.Sb(),S.Sb(),S.Sb()),2&t){var a=e.$implicit;S.Cb(4),S.Qc(a.d1),S.Cb(2),S.Qc(a.d2)}}function Ot(t,e){1&t&&(S.Tb(0,"mat-grid-tile"),S.Pc(1," \xa0 "),S.Sb())}function Et(t,e){if(1&t&&(S.Rb(0),S.Nc(1,Ot,2,0,"mat-grid-tile",13),S.Qb()),2&t){var a=S.fc(2);S.Cb(1),S.mc("ngForOf",a.aPaddingStart)}}function Nt(t,e){if(1&t&&(S.Tb(0,"h5",28),S.Tb(1,"span",10),S.Pc(2,"Today"),S.Sb(),S.Pc(3),S.gc(4,"date"),S.Sb()),2&t){var a=S.fc().$implicit;S.Cb(3),S.Rc(" ",S.ic(4,1,a.key,"d")," ")}}function Ft(t,e){if(1&t&&(S.Tb(0,"h5",29),S.Pc(1),S.gc(2,"date"),S.Sb()),2&t){var a=S.fc().$implicit;S.Cb(1),S.Rc(" ",S.ic(2,1,a.key,"d")," ")}}function It(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"button",32),S.Tb(2,"div",33),S.Tb(3,"h3",34),S.Pc(4),S.Sb(),S.Sb(),S.Sb(),S.Qb()),2&t){var a=e.$implicit;S.fc();var n=S.zc(3),i=S.fc(3);S.Cb(1),S.mc("matMenuTriggerFor",n),S.Cb(1),S.mc("ngClass","bg-date-"+a.eventDateTypeID),S.Cb(2),S.Rc(" ",i.getEventParent(a.eventParentID).eventParentName," ")}}function Lt(t,e){if(1&t&&(S.Rb(0),S.Ob(1,"app-event-date-row",35),S.Qb()),2&t){var a=e.$implicit;S.Cb(1),S.mc("eventDate",a)("showEventDetails",!0)}}function _t(t,e){if(1&t&&(S.Tb(0,"div",30),S.Nc(1,It,5,3,"ng-container",13),S.Tb(2,"mat-menu",22,31),S.Tb(4,"a",24),S.Tb(5,"div",25),S.Pc(6),S.gc(7,"date"),S.Sb(),S.Tb(8,"div",26),S.Pc(9),S.gc(10,"date"),S.Sb(),S.Sb(),S.Nc(11,Lt,2,2,"ng-container",13),S.Sb(),S.Sb()),2&t){var a=S.fc().$implicit;S.Cb(1),S.mc("ngForOf",a.aEventDate),S.Cb(3),S.qc("routerLink","/calendar/day/",a.key.getUTCFullYear(),"/",a.key.getUTCMonth()+1,"/",a.key.getUTCDate(),""),S.Cb(2),S.Qc(S.ic(7,7,a.key,"MMM")),S.Cb(3),S.Qc(S.ic(10,10,a.key,"d")),S.Cb(2),S.mc("ngForOf",a.aEventDate)}}function Mt(t,e){1&t&&(S.Rb(0),S.Ob(1,"span",36),S.Qb())}function jt(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"a",15),S.Tb(2,"div",33),S.Tb(3,"h3",34),S.Pc(4),S.Sb(),S.Sb(),S.Sb(),S.Qb()),2&t){var a=e.$implicit,n=S.fc().$implicit,i=S.fc(2);S.Cb(1),S.qc("routerLink","/calendar/day/",n.key.getUTCFullYear(),"/",n.key.getUTCMonth()+1,"/",n.key.getUTCDate(),""),S.Cb(1),S.mc("ngClass","bg-date-"+a.eventDateTypeID),S.Cb(2),S.Rc(" ",i.getEventParent(a.eventParentID).eventParentName," ")}}function Ut(t,e){if(1&t&&(S.Tb(0,"mat-grid-tile",14),S.Tb(1,"a",15),S.Nc(2,Nt,5,4,"ng-template",null,16,S.Oc),S.Nc(4,Ft,3,4,"h5",17),S.Sb(),S.Nc(5,_t,12,13,"div",18),S.Tb(6,"div",19),S.Tb(7,"button",20),S.Ob(8,"span",21),S.Nc(9,Mt,2,0,"ng-container",13),S.Sb(),S.Tb(10,"mat-menu",22,23),S.Tb(12,"a",24),S.Tb(13,"div",25),S.Pc(14),S.gc(15,"date"),S.Sb(),S.Tb(16,"div",26),S.Pc(17),S.gc(18,"date"),S.Sb(),S.Sb(),S.Nc(19,jt,5,5,"ng-container",13),S.Tb(20,"button",27),S.Pc(21," Discover (N) events "),S.Sb(),S.Sb(),S.Sb(),S.Sb()),2&t){var a=e.$implicit,n=S.zc(3),i=S.zc(11),r=S.fc(2);S.Cb(1),S.mc("routerLink",r.getCalendarDayUrl(a.key)),S.Cb(3),S.mc("ngIf",a.key.getTime()!==r.todaysDate.getTime())("ngIfElse",n),S.Cb(1),S.mc("ngIf",a.aEventDate&&a.aEventDate.length),S.Cb(2),S.mc("matMenuTriggerFor",i),S.Cb(2),S.mc("ngForOf",a.aEventDate),S.Cb(3),S.qc("routerLink","/calendar/day/",a.key.getUTCFullYear(),"/",a.key.getUTCMonth()+1,"/",a.key.getUTCDate(),""),S.Cb(2),S.Qc(S.ic(15,12,a.key,"MMM")),S.Cb(3),S.Qc(S.ic(18,15,a.key,"d")),S.Cb(2),S.mc("ngForOf",a.aEventDate)}}function At(t,e){1&t&&(S.Tb(0,"mat-grid-tile"),S.Pc(1," \xa0 "),S.Sb())}function Rt(t,e){if(1&t&&(S.Rb(0),S.Nc(1,At,2,0,"mat-grid-tile",13),S.Qb()),2&t){var a=S.fc(2);S.Cb(1),S.mc("ngForOf",a.aPaddingEnd)}}function zt(t,e){if(1&t&&(S.Rb(0),S.Tb(1,"section",3),S.Tb(2,"mat-grid-list",4),S.Tb(3,"mat-grid-tile-header"),S.Nc(4,kt,7,2,"mat-grid-tile",5),S.Sb(),S.Sb(),S.Tb(5,"mat-grid-list",6),S.Nc(6,Et,2,1,"ng-container",7),S.Nc(7,Ut,22,18,"mat-grid-tile",8),S.Nc(8,Rt,2,1,"ng-container",7),S.Sb(),S.Sb(),S.Qb()),2&t){var a=S.fc();S.Cb(4),S.mc("ngForOf",a.aWeek),S.Cb(2),S.mc("ngIf",a.aPaddingStart&&a.aPaddingStart.length),S.Cb(1),S.mc("ngForOf",a.aEventDate),S.Cb(1),S.mc("ngIf",a.aPaddingEnd&&a.aPaddingEnd.length)}}var Vt,$t=function(){function t(t,e,a,n,i,r,o,c,s){var d=this;this.localStorageObj=t,this.authenticationService=e,this.calendarService=a,this.route=n,this.router=i,this.utilityService=r,this.eventParentService=o,this.store=c,this.actions$=s,this.bShowPage=!1,this.currentView="month",this.aWeek=u.c,this.authenticationService.authStatus$.switchMap((function(t){return d.bShowPage=!1,d.resetEventDateData().switchMap((function(){return d.router.url.includes("/calendar/month")?Object(l.a)(d.loadDataUsingStore({})):Object(l.a)(void 0)}))})).subscribe()}return t.prototype.ngOnInit=function(){var t=this;this.todaysDate=this.utilityService.createUTCDate(new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0,0))),this.route.params.switchMap((function(){return t.getUrlSlugs()})).subscribe((function(e){t.loadDataUsingStore(e)}))},t.prototype.loadDataUsingStore=function(t){var e=this;this.bShowPage=!1,this.store.select("monthEvents").subscribe((function(a){e.renderMonthView(a,t)}))},t.prototype.loadData=function(){var t=this;return this.bShowPage=!1,this.eventParentService.getEventParents().map((function(e){return t.aEventParent=e})).switchMap((function(){return t.calendarService.getCalendarDiscover("month")})).map((function(e){return t.aCalendarDayDiscover=null!==e?e:[],!0})).switchMap((function(){return t.getUrlSlugs()})).map((function(e){return t.currentDate=t.utilityService.createUTCDate(e&&e.year?new Date(Date.UTC(parseInt(e.year),parseInt(e.month)-1,15,0,0,0,0)):new Date(Date.UTC(t.todaysDate.getFullYear(),t.todaysDate.getMonth(),15,0,0,0,0))),{startDate:ct(t.currentDate).date(1)._d,endDate:ct(t.currentDate).date(31)._d}})).switchMap((function(e){return t.calendarService.getEventDatesGrouped(e.startDate,e.endDate,"month")})).map((function(e){t.aEventDate=e,t.aEventDate.forEach((function(t){t.aEventDate.sort((function(t,e){return t.displayOrder>e.displayOrder?1:t.displayOrder===e.displayOrder?0:-1}))})),t.bShowPage=!0}))},t.prototype.resetEventDateData=function(){return this.aEventDate=void 0,this.aEventDateDiscover=void 0,Object(l.a)(!0)},t.prototype.toggleDiscover=function(t){this.aCalendarDayDiscover=this.calendarService.toggleDiscover(t,this.aCalendarDayDiscover,"month")},t.prototype.showDiscover=function(t){return this.calendarService.showDiscover(t,this.aCalendarDayDiscover)},t.prototype.getUrlSlugs=function(){return this.route.params.map((function(t){return t}))},t.prototype.getEventParent=function(t){return this.aEventParent.filter((function(e){return e.eventParentID===t}))[0]},t.prototype.getCalendarDayUrl=function(t){var e=ct(t).add(-1*t.getTimezoneOffset(),"minutes")._d;return"/calendar/day/"+e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate()},t.prototype.getCurrenDate=function(t){var e=t.month,a=t.year;return e&&a?[+e-1,a]:[ct(new Date).month(),ct(new Date).year()]},t.prototype.getEventDate=function(t,e){var a=e[1];return t[a]?t[a][e[0]]:t[a]},t.prototype.setEventsToMonthView=function(t,e){this.aEventDate=t,this.aEventParent=e,this.aPaddingStart=new Array(this.aEventDate[0].key.getDay()),this.aPaddingEnd=6!==this.aEventDate[this.aEventDate.length-1].key.getDay()?new Array(6-this.aEventDate[this.aEventDate.length-1].key.getDay()):[],this.bShowPage=!0},t.prototype.loadEventsByMonth=function(t){this.store.dispatch(v.c({payload:t}))},t.prototype.renderMonthView=function(t,e){var a=t.eventParent,n=this.getEventDate(t.monthEvents,this.getCurrenDate(e));n?this.setEventsToMonthView(n,a):this.loadEventsByMonth(e)},t.\u0275fac=function(e){return new(e||t)(S.Nb(st.a),S.Nb(p.a),S.Nb(u.a),S.Nb(i.a),S.Nb(i.c),S.Nb(g.a),S.Nb(wt.a),S.Nb(x.h),S.Nb(xt.a))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-month"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],["role","grid"],["cols","7","rowHeight","20"],["role","columnheader",4,"ngFor","ngForOf"],["cols","7","rowHeight","fit",1,"calendar_body"],[4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],["role","columnheader"],[1,"cdk-visually-hidden"],["aria-hidden","true",1,"mat-caption","text-op-50"],["fxHide.lt-sm",""],[4,"ngFor","ngForOf"],["role","gridcell"],[3,"routerLink"],["today",""],["class","mat-caption",4,"ngIf","ngIfElse"],["fxHide.xs","",4,"ngIf"],["fxHide.gt-xs","",1,"small-screen-day"],["mat-button","",3,"matMenuTriggerFor"],[1,"text-dot","text-dot--dummy"],[1,"date-day_hover-card","mat-elevation-z10"],["dayMenu","matMenu"],["mat-button","",1,"text-center","date-day_hover-card_header",3,"routerLink"],[1,"mat-caption","text-op-50","text-uppercase"],[1,"mat-type","mat-display-0"],["mat-button","","matTooltip","Events You're Not Following"],[1,"mat-caption","is-today","strong"],[1,"mat-caption"],["fxHide.xs",""],["bigDayMenu","matMenu"],[1,"blank-button",3,"matMenuTriggerFor"],[1,"date-teaser",3,"ngClass"],[1,"date-teaser_title","mat-typography","truncate"],[3,"eventDate","showEventDetails"],[1,"text-dot","text-silver"]],template:function(t,e){if(1&t&&(S.Nc(0,Pt,1,3,"ng-template",null,0,S.Oc),S.Nc(2,zt,9,4,"ng-container",1)),2&t){var a=S.zc(1);S.Cb(2),S.mc("ngIf",e.bShowPage)("ngIfElse",a)}},directives:[n.n,W.c,Tt.a,Tt.e,Tt.d,n.m,Tt.c,C.b,i.f,E.b,Ct.c,Ct.d,E.a,N.b,n.l,C.a,lt.a],pipes:[n.e],styles:["app-month>section{height:100%}app-month mat-grid-tile{text-align:center;border-right:1px solid #dadce0;border-bottom:1px solid #dadce0}app-month mat-grid-tile:nth-last-child(7n+1){border-right:0}app-month mat-grid-tile:nth-last-child(-n+7){border-bottom:0}app-month mat-grid-tile .mat-caption{margin:4px;display:inline-block;text-align:center;white-space:nowrap;width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:24px}app-month mat-grid-tile-header mat-grid-tile{border-top:1px solid #dadce0;border-bottom:0;text-transform:uppercase}@media (max-width:959px){app-month mat-grid-tile-header mat-grid-tile{border-top:0}}app-month mat-grid-tile-header mat-grid-tile .mat-caption{margin-top:8px;margin-bottom:0;line-height:16px}app-month .calendar_body{min-height:calc(100% - 20px)}app-month .calendar_body .mat-grid-tile .mat-figure{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:start;justify-content:start}app-month .calendar_body .mat-grid-tile .mat-figure>div{width:100%}app-month .calendar_body .mat-grid-tile .mat-figure>a{color:inherit}app-month .calendar_body .mat-grid-tile .mat-figure .blank-button{display:block;max-width:100%;text-align:center}app-month .calendar_body .mat-grid-tile .mat-figure .small-screen-day{position:relative;height:100%}app-month .calendar_body .mat-grid-tile .mat-figure .small-screen-day .mat-button{position:absolute;width:100%;left:0;top:-8px;bottom:0;min-width:0}app-month .calendar_body .mat-grid-tile .mat-figure .small-screen-day .text-dot{position:absolute;margin-left:-6px;top:30%}app-month .calendar_body .mat-caption.is-today{position:relative;color:#fff;background:#ff3d00;border-radius:50%;height:24px;line-height:24px}.date-teaser{display:block;text-align:left;padding:1px 4px;min-width:auto;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 4px 2px}@media (min-width:960px){.date-teaser{margin-right:8px;margin-left:8px}}.date-teaser .date-teaser_title{line-height:16px;font-weight:500;font-size:12px;margin:0;vertical-align:middle}.date-day_hover-card{min-width:350px;max-width:390px}.date-day_hover-card .mat-menu-content{padding:8px 8px 24px}.date-day_hover-card a{text-decoration:none}.date-day_hover-card .date-day_hover-card_header{display:block;padding:12px 16px 8px;margin-bottom:8px;color:inherit;text-decoration:none}.date-day_hover-card .date-day_hover-card_header .mat-display-0{margin-bottom:0}.date-day_hover-card .mat-button{width:100%}"],encapsulation:2}),t}(),Gt=a("pjp9"),Bt=a("q6Au"),Yt=a("dNgK"),Qt=a("iEYN"),Ht=(Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});function Xt(t,e){if(1&t&&S.Ob(0,"mat-spinner",8),2&t){var a=S.fc();S.mc("color",a.accent)("strokeWidth",2)("diameter",80)}}function Jt(t,e){if(1&t){var a=S.Ub();S.Tb(0,"section",17),S.Tb(1,"form",18),S.Tb(2,"mat-form-field",19),S.bc("copied",(function(){S.Cc(a);var t=S.fc(3);return t.openSnackBar(t.syncUrl)})),S.Tb(3,"mat-icon",20),S.Pc(4,"calendar_today"),S.Sb(),S.Ob(5,"input",21),S.Tb(6,"button",22),S.Pc(7,"Copy To Clipboard"),S.Sb(),S.Sb(),S.Sb(),S.Sb()}if(2&t){var n=S.fc(3);S.Cb(1),S.mc("formGroup",n.syncFormGroup),S.Cb(1),S.mc("copy-clipboard",n.syncUrl)}}function qt(t,e){if(1&t&&(S.Rb(0),S.Nc(1,Jt,8,2,"section",10),S.Tb(2,"section",4),S.Tb(3,"p",11),S.Pc(4,"Common calendar platforms with instructions on how to add to your Adspur calendar:"),S.Sb(),S.Tb(5,"h3",12),S.Pc(6,"Google Calendar"),S.Sb(),S.Tb(7,"ol",11),S.Tb(8,"li"),S.Pc(9,"Go to your "),S.Tb(10,"a",13),S.Pc(11,"Google Calendar "),S.Tb(12,"mat-icon",14),S.Pc(13,"open_in_new"),S.Sb(),S.Sb(),S.Pc(14," (check it's the correct accout)."),S.Sb(),S.Tb(15,"li"),S.Pc(16,"Next to "),S.Tb(17,"strong"),S.Pc(18,"Other Calendars"),S.Sb(),S.Pc(19," click the "),S.Tb(20,"mat-icon",15),S.Pc(21,"add"),S.Sb(),S.Pc(22," (Add other calendars)."),S.Sb(),S.Tb(23,"li"),S.Pc(24,"In the menu select "),S.Tb(25,"strong"),S.Pc(26,"From URL"),S.Sb(),S.Pc(27,"."),S.Sb(),S.Tb(28,"li"),S.Pc(29,"Paste the link from above and click "),S.Tb(30,"strong"),S.Pc(31,"Add calendar"),S.Sb(),S.Pc(32,"."),S.Sb(),S.Sb(),S.Tb(33,"h3",12),S.Pc(34,"Outlook.com"),S.Sb(),S.Tb(35,"ol",11),S.Tb(36,"li"),S.Pc(37,"Go to your "),S.Tb(38,"a",16),S.Pc(39,"Outlook Calendar "),S.Tb(40,"mat-icon",14),S.Pc(41,"open_in_new"),S.Sb(),S.Sb(),S.Pc(42," (check it's the correct accout)."),S.Sb(),S.Tb(43,"li"),S.Pc(44,"Click "),S.Tb(45,"strong"),S.Pc(46,"Import calendar"),S.Sb(),S.Pc(47," then "),S.Tb(48,"strong"),S.Pc(49,"From web"),S.Sb(),S.Pc(50,"."),S.Sb(),S.Tb(51,"li"),S.Pc(52,"Paste the link above in the "),S.Tb(53,"strong"),S.Pc(54,"Link to the calendar"),S.Sb(),S.Pc(55," URL box."),S.Sb(),S.Tb(56,"li"),S.Pc(57,'Enter a name for the calendar like "Adspur Awards Calendar" and click '),S.Tb(58,"strong"),S.Pc(59,"Import"),S.Sb(),S.Pc(60,"."),S.Sb(),S.Sb(),S.Tb(61,"h3",12),S.Pc(62,"Apple Calendar (Mac)"),S.Sb(),S.Tb(63,"ol",11),S.Tb(64,"li"),S.Pc(65,"In "),S.Tb(66,"strong"),S.Pc(67,"Calendar"),S.Sb(),S.Pc(68,", choose "),S.Tb(69,"strong"),S.Pc(70,"File"),S.Sb(),S.Pc(71," > "),S.Tb(72,"strong"),S.Pc(73,"New Calendar Subscription"),S.Sb(),S.Pc(74,"."),S.Sb(),S.Tb(75,"li"),S.Pc(76,"Paste the link fromabove, then click "),S.Tb(77,"strong"),S.Pc(78,"Subscribe"),S.Sb(),S.Pc(79,"."),S.Sb(),S.Tb(80,"li"),S.Pc(81,"Change the name if you like and choose a color to help you identify it on your calendar."),S.Sb(),S.Tb(82,"li"),S.Pc(83,"Choose "),S.Tb(84,"strong"),S.Pc(85,"iCloud"),S.Sb(),S.Pc(86," from the Location menu to across your Apple devices, then click "),S.Tb(87,"strong"),S.Pc(88,"OK"),S.Sb(),S.Pc(89,"."),S.Sb(),S.Sb(),S.Tb(90,"h3",12),S.Pc(91,"Microsoft Outlook (Desktop)"),S.Sb(),S.Tb(92,"ol",11),S.Tb(93,"li"),S.Pc(94,"In Outlook on your desktop (Outlook 2013 or Outlook 2016), go to your Calendar."),S.Sb(),S.Tb(95,"li"),S.Pc(96,"Click "),S.Tb(97,"strong"),S.Pc(98,"Open Calendar"),S.Sb(),S.Pc(99," and click "),S.Tb(100,"strong"),S.Pc(101,"From Internet"),S.Sb(),S.Pc(102," in the drop down options."),S.Sb(),S.Tb(103,"li"),S.Pc(104,"In the Calendar URL box, paste the link from above."),S.Sb(),S.Tb(105,"li"),S.Pc(106,"(Optional step) If you would like to, click on "),S.Tb(107,"strong"),S.Pc(108,"Advanced"),S.Sb(),S.Pc(109," and update the "),S.Tb(110,"strong"),S.Pc(111,"Folder Name"),S.Sb(),S.Pc(112," of your calendar to something more meaningful (e.g. Adspur Awards Calendar) and then press "),S.Tb(113,"strong"),S.Pc(114,"OK"),S.Sb(),S.Sb(),S.Tb(115,"li"),S.Pc(116,"Click "),S.Tb(117,"strong"),S.Pc(118,"Yes"),S.Sb(),S.Pc(119," to finish adding the calendar."),S.Sb(),S.Sb(),S.Tb(120,"h3",12),S.Pc(121,"Other"),S.Sb(),S.Tb(122,"p",11),S.Pc(123,'Most calendar applications should have an "Import by URL" or "Add from web" function that you will be able to paste the link into.'),S.Sb(),S.Sb(),S.Qb()),2&t){var a=S.fc(2);S.Cb(1),S.mc("ngIf",a.syncUrl)}}function Kt(t,e){if(1&t&&(S.Tb(0,"div",4),S.Tb(1,"div",23),S.Tb(2,"p",24),S.Pc(3,"Calendar Sync is a "),S.Tb(4,"em",25),S.Pc(5,"Pro"),S.Sb(),S.Pc(6," feature, Upgrade to get your personal link, or "),S.Tb(7,"a",26),S.Pc(8,"Login"),S.Sb(),S.Pc(9,"."),S.Sb(),S.Tb(10,"a",27),S.Pc(11,"Go Pro"),S.Sb(),S.Sb(),S.Sb(),S.Tb(12,"div",17),S.Tb(13,"form",18),S.Tb(14,"mat-form-field",28),S.Tb(15,"mat-icon",20),S.Pc(16,"calendar_today"),S.Sb(),S.Ob(17,"input",21),S.Tb(18,"button",29),S.Pc(19,"Copy To Clipboard"),S.Sb(),S.Sb(),S.Sb(),S.Sb()),2&t){var a=S.fc(2);S.Cb(13),S.mc("formGroup",a.syncFormGroup)}}function Wt(t,e){if(1&t&&(S.Rb(0),S.Nc(1,qt,124,1,"ng-container",7),S.Nc(2,Kt,20,1,"ng-template",null,9,S.Oc),S.Qb()),2&t){var a=S.zc(3),n=S.fc();S.Cb(1),S.mc("ngIf",n.user&&(n.user.networkID&&0!==n.user.networkID||n.user.isProSubscriptionUser))("ngIfElse",a)}}var Zt=function(t){function e(e,a,n,i,r,o){var c=t.call(this,a)||this;return c.router=e,c.fullpageService=a,c.fb=n,c.snackBar=i,c.authenticationService=r,c.userService=o,c.bShowPage=!1,c.createForm(),c.authStatus=c.authenticationService.authStatus$.switchMap((function(t){return c.resetAndLoadUserRelatedData().map((function(){return c.user=t.hasOwnProperty("status")&&t.status?t.user:void 0}))})).subscribe(),c}return Ht(e,t),e.prototype.onKeydownHandler=function(t){this.router.navigate(["/home"])},e.prototype.ngOnInit=function(){this.resetAndLoadUserRelatedData().subscribe()},e.prototype.ngOnDestroy=function(){this.fullpageService.setIsFullPage(!1),this.authStatus.unsubscribe()},e.prototype.createForm=function(){this.syncFormGroup=this.fb.group({syncFormControl:new r.g(this.syncUrl,[])})},e.prototype.resetAndLoadUserRelatedData=function(){var t=this;return this.resetUserRelatedData().switchMap((function(){return t.userService.calendarSubscribe().map((function(e){t.authenticationService.isLoggedIn()&&(t.user=t.authenticationService.currentUserValue),t.syncUrl=e,t.syncFormGroup.patchValue({syncFormControl:t.syncUrl})}))})).map((function(){return t.bShowPage=!0}))},e.prototype.resetUserRelatedData=function(){return this.user=void 0,Object(l.a)(!0)},e.prototype.openSnackBar=function(){this.snackBar.open("Link Copied To Clipboard","Dismiss",{duration:3e3})},e.\u0275fac=function(t){return new(t||e)(S.Nb(i.c),S.Nb(Gt.a),S.Nb(r.f),S.Nb(Yt.a),S.Nb(p.a),S.Nb(f.a))},e.\u0275cmp=S.Hb({type:e,selectors:[["app-sync"]],hostBindings:function(t,e){1&t&&S.bc("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,S.Bc)},features:[S.zb],decls:12,vars:2,consts:[[1,"fullscreen_header","text-center"],[1,"mat-display-0","mat-type"],["mat-icon-button","","routerLink","/home","aria-label","Close","matTooltip","Close",1,"fullscreen_close"],["aria-hidden","true"],[1,"g-page-width","g-page-width--narrow"],[1,"mat-display-0","mat-type","text-center","text-highlight"],["loading",""],[4,"ngIf","ngIfElse"],[3,"color","strokeWidth","diameter"],["showSync",""],["class","g-page-width",4,"ngIf"],[1,"mat-body-1"],[1,"mat-title"],["href","https://calendar.google.com/calendar/r","target","_blank",1,"text-link"],[1,"mat-icon--xs"],[1,"mat-icon--sm"],["href","https://outlook.live.com/calendar/","target","_blank",1,"text-link"],[1,"g-page-width"],[3,"formGroup"],["appearance","outline",3,"copy-clipboard","copied"],["aria-hidden","true","matPrefix",""],["matInput","","formControlName","syncFormControl","readonly","readonly"],["matSuffix","","color","accent","mat-flat-button",""],["fxFlex","","fxLayoutGap","8px","fxLayoutAlign","start start",1,"alert","is-info","mat-body-2"],["fxFlex",""],[1,"text-label","bg-info"],["routerLink","/login",1,"text-link"],["routerLink","/upgrade","mat-flat-button","","color","accent",1,"g-fl-r"],["appearance","outline"],["disabled","","matSuffix","","color","accent","mat-flat-button",""]],template:function(t,e){if(1&t&&(S.Tb(0,"header",0),S.Tb(1,"h1",1),S.Pc(2,"Sync Calendar"),S.Sb(),S.Sb(),S.Tb(3,"button",2),S.Tb(4,"mat-icon",3),S.Pc(5,"close"),S.Sb(),S.Sb(),S.Tb(6,"div",4),S.Tb(7,"h4",5),S.Pc(8,"A personalised link to show your Followed awards in your regular calendar application."),S.Sb(),S.Sb(),S.Nc(9,Xt,1,3,"ng-template",null,6,S.Oc),S.Nc(11,Wt,4,2,"ng-container",7)),2&t){var a=S.zc(10);S.Cb(11),S.mc("ngIf",e.bShowPage)("ngIfElse",a)}},directives:[E.b,i.d,N.b,I.a,n.n,W.c,r.y,r.r,r.j,P.c,Qt.a,P.h,k.b,r.c,r.q,r.i,P.i,T.b,T.f,T.d,i.f,E.a],styles:["app-sync{display:block;padding-top:56px;padding-bottom:112px}app-sync .fullscreen_header .mat-display-0{padding-bottom:0;margin-bottom:0}app-sync .g-page-width{padding-left:16px;padding-right:16px}app-sync .mat-title{margin-top:32px}app-sync .mat-form-field{width:100%;margin-top:24px;margin-bottom:40px}app-sync .mat-form-field:not(.mat-form-field-disabled),app-sync .mat-form-field:not(.mat-form-field-disabled) .mat-input-element{cursor:pointer}app-sync .mat-form-field .mat-form-field-wrapper{padding-bottom:0}app-sync .mat-form-field .mat-form-field-prefix{padding-right:8px;padding-left:8px;top:6px}app-sync .mat-form-field .mat-form-field-infix{border-top-width:5px}app-sync .mat-form-field .mat-form-field-suffix{top:0;margin-left:8px}"],encapsulation:2}),e}(Bt.a),te=a("Uoos"),ee=a("IzEk"),ae=a("eIep"),ne=[{path:"",component:X,children:[{path:"",redirectTo:"day",pathMatch:"full"},{path:"timeline",component:ot,data:{animation:"CalendarTimelinePage"}},{path:"day",component:St,resolve:[function(){function t(t){this.store=t}return t.prototype.resolve=function(t,e){var a=this;return this.store.select((function(t){return t.typesDates})).pipe(Object(ee.a)(1),Object(D.a)((function(t){return{typesDates:t.typesDates,filterSlide:t.filterSlide}})),Object(ae.a)((function(t){var e=t.typesDates;return e.length||null!==t.filterSlide||a.store.dispatch(Object(y.a)()),Object(l.a)(e)})))},t.\u0275fac=function(e){return new(e||t)(S.Xb(x.h))},t.\u0275prov=S.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),te.a],data:{animation:"CalendarDayPage"}},{path:"day/:year/:month/:date",component:St,data:{animation:"CalendarDayPage"}},{path:"month",component:$t,resolve:[function(){function t(t){this.store=t}return t.prototype.resolve=function(t,e){var a=this;return this.store.select("monthEvents").pipe(Object(ee.a)(1),Object(D.a)((function(t){return t.monthEvents})),Object(ae.a)((function(t){return 0===Object.entries(t).length&&(a.store.dispatch(Object(v.c)({payload:null})),a.store.dispatch(Object(v.d)())),Object(l.a)(t)})))},t.\u0275fac=function(e){return new(e||t)(S.Xb(x.h))},t.\u0275prov=S.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()],data:{animation:"CalendarMonthPage"}},{path:"month/:year/:month",component:$t,data:{animation:"CalendarMonthPage"}}],data:{animation:"CalendarPage"}},{path:"sync",component:Zt,data:{animation:"CalendarSyncPage"}}],ie=function(){function t(){}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(ne)],i.g]}),t}(),re=a("RTH9"),oe=a("JJVI"),ce=a("Ctr0"),se=a("f6BA"),le=a("JIr8"),de=function(){function t(t,e,a){var n=this;this.route=t,this.actions$=e,this.calendarService=a,this.loadTypesDate$=Object(xt.c)((function(){return n.actions$.pipe(Object(xt.d)(y.a),Object(ae.a)((function(){return n.calendarService.getAllEventDateType()})),Object(D.a)((function(t){return Object(y.d)({payload:t})})),Object(le.a)((function(t){return Object(l.a)({type:"[Calendar] Load types date",message:t})})))}))}return t.\u0275fac=function(e){return new(e||t)(S.Xb(i.a),S.Xb(xt.a),S.Xb(u.a))},t.\u0275prov=S.Jb({token:t,factory:t.\u0275fac}),t}(),be=function(){function t(t,e,a,n,i){var r=this;this.route=t,this.actions$=e,this.calendarService=a,this.utilityService=n,this.eventParentService=i,this.loadEventsMonth$=Object(xt.c)((function(){return r.actions$.pipe(Object(xt.d)(v.c),Object(D.a)((function(t){return r.currentDate=r.getCurrentDateByParam(t.payload),{startDate:ct(r.currentDate).date(1)._d,endDate:ct(r.currentDate).date(31)._d}})),Object(ae.a)((function(t){return r.calendarService.getEventDatesGrouped(t.startDate,t.endDate,"month")})),Object(ae.a)((function(t){return[Object(v.g)({payload:{EventDate:t,CurrentMonth:ct(r.currentDate).month(),CurrentYear:ct(r.currentDate).year()}}),Object(v.b)()]})))})),this.loadEventParent$=Object(xt.c)((function(){return r.actions$.pipe(Object(xt.d)(v.d),Object(ae.a)((function(){return r.eventParentService.getEventParents()})),Object(D.a)((function(t){return Object(v.f)({payload:t})})))})),this.todaysDate=this.getToday(),this.currentDate=null}return t.prototype.getCurrentDateByParam=function(t){return this.utilityService.createUTCDate(t&&t.year?new Date(Date.UTC(parseInt(t.year),parseInt(t.month)-1,15,0,0,0,0)):new Date(Date.UTC(this.todaysDate.getFullYear(),this.todaysDate.getMonth(),15,0,0,0,0)))},t.prototype.getToday=function(){return this.utilityService.createUTCDate(new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0,0)))},t.\u0275fac=function(e){return new(e||t)(S.Xb(i.a),S.Xb(xt.a),S.Xb(u.a),S.Xb(g.a),S.Xb(wt.a))},t.\u0275prov=S.Jb({token:t,factory:t.\u0275fac}),t}(),pe={eventDate:ce.a},ue=function(){function t(){}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[n.c,i.g,r.l,r.v,o.a,c.a,ie,oe.a,re.a,x.j.forFeature("calendarModule",pe),xt.b.forFeature([se.a,de,be])]]}),t}()}}]);